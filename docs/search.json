[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "tea-teachers",
    "section": "",
    "text": "This is the Quarto website and project for an analysis looking into the salaries and cost of living for teachers across Texas. This project is in association with Texas Newsroom/KUT. The questions come from a proposed bill that would give more funding to teachers in specific-sized school districts (unclear exactly which ones).\nThis project was created by Karina Kumar on March 3rd, 2025 for the Media Innovation Group.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#our-questions",
    "href": "index.html#our-questions",
    "title": "tea-teachers",
    "section": "Our questions:",
    "text": "Our questions:\n\nHow are teachers doing now re: buying power compared to the last several years (using salary and cost of living)?\nAnd are rural teachers really doing worse?\nWill the bill fix the problem it says it will?",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "Map3.html",
    "href": "Map3.html",
    "title": "Map3",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nabove_below_alice &lt;- read_rds(\"data-processed/above_below_alice.rds\")\n\n\nschool_districts &lt;- st_read(\"data-raw/Current_Districts_2025/Current_Districts_2025.shp\") \n\nReading layer `Current_Districts_2025' from data source \n  `/Users/karina/Documents/mig-data/tea-teachers/data-raw/Current_Districts_2025/Current_Districts_2025.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1017 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -106.6457 ymin: 25.83717 xmax: -93.50805 ymax: 36.50071\nGeodetic CRS:  WGS 84\n\nschool_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 14\n$ FID        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ GEOID20    &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ NAME20     &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranch Inde…\n$ SDLEA      &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\", \"3864…\n$ NAME       &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wheeler …\n$ NAME2      &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Grandview…\n$ DISTRICT_N &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917, 20908…\n$ DISTRICT   &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\", \"116…\n$ DISTRICT_C &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"116909\",…\n$ NCES_DISTR &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ COLOR      &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3, 5, 3,…\n$ Shape__Are &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, 222513…\n$ Shape__Len &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.368, 11…\n$ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOLYGON (…\n\n\n\nabove_below_alice |&gt; filter(district_number == \"123913\")\n\n# A tibble: 9 × 14\n# Groups:   county [1]\n  region county  district_name district_number total_enrollment average_base_pay\n  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n1 05     JEFFER… SABINE PASS … 123913                       379            46849\n2 05     JEFFER… SABINE PASS … 123913                       386            47179\n3 05     JEFFER… SABINE PASS … 123913                       380            46781\n4 05     JEFFER… SABINE PASS … 123913                       372            49494\n5 05     JEFFER… SABINE PASS … 123913                       371            49304\n6 05     JEFFER… SABINE PASS … 123913                       375            51812\n7 05     JEFFER… SABINE PASS … 123913                       388            51336\n8 05     JEFFER… SABINE PASS … 123913                       370            52243\n9 05     JEFFER… SABINE PASS … 123913                       358            56096\n# ℹ 8 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   difference &lt;dbl&gt;, bill_category &lt;fct&gt;, above_alice &lt;lgl&gt;\n\nsimple_alice &lt;- above_below_alice |&gt; mutate(\n   tea_description = factor(tea_description, levels = c(\"Rural\", \"Non-metropolitan Stable\", \"Non-metropolitan Fast Growing\", \"Independent Town\", \"Other Central City Suburban\", \"Other Central City\", \"Major Suburban\", \"Major Urban\"))\n ) |&gt; \n  ungroup() |&gt; \n  filter(end_year == 2024) |&gt; \n  select(district_number, tea_description, nces_description, bill_category, difference) \n\nsimple_alice\n\n# A tibble: 1,020 × 5\n   district_number tea_description     nces_description bill_category difference\n   &lt;chr&gt;           &lt;fct&gt;               &lt;chr&gt;            &lt;fct&gt;              &lt;dbl&gt;\n 1 001902          Rural               Rural-Remote     under 1600         -1483\n 2 001903          Non-metropolitan S… Rural-Distant    under 1600         -4162\n 3 001904          Rural               Rural-Distant    under 1600         -2851\n 4 001906          Rural               Rural-Distant    under 1600         -7088\n 5 001907          Independent Town    Town-Distant     under 5000         -4833\n 6 001909          Rural               Rural-Remote     under 1600          1286\n 7 001908          Non-metropolitan S… Town-Distant     under 1600         -9004\n 8 002901          Other Central City… Town-Distant     under 5000           872\n 9 003907          Non-metropolitan S… Rural-Fringe     under 1600          4929\n10 003905          Non-metropolitan S… Town-Remote      under 5000         10133\n# ℹ 1,010 more rows\n\n\nNow I will join that simplified dataframe with the shape file information.\n\njoined_districts &lt;- school_districts |&gt; left_join(simple_alice, by = c(\"DISTRICT_C\" = \"district_number\"))\n\njoined_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 18\n$ FID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…\n$ GEOID20          &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ NAME20           &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranc…\n$ SDLEA            &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\",…\n$ NAME             &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wh…\n$ NAME2            &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Gra…\n$ DISTRICT_N       &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917,…\n$ DISTRICT         &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\"…\n$ DISTRICT_C       &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"11…\n$ NCES_DISTR       &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ COLOR            &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3,…\n$ Shape__Are       &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, …\n$ Shape__Len       &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.3…\n$ tea_description  &lt;fct&gt; Rural, Rural, Rural, Rural, Rural, Rural, Rural, Majo…\n$ nces_description &lt;chr&gt; \"Rural-Distant\", \"Rural-Remote\", \"Rural-Distant\", \"Ru…\n$ bill_category    &lt;fct&gt; under 1600, under 300, under 300, under 1600, under 3…\n$ difference       &lt;dbl&gt; 716, -12386, 29496, 2382, 7617, -17888, -4346, 841, 4…\n$ geometry         &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOL…\n\n\nNow I want to group the difference column into categories so we can see it better.\n\ndifference_categories &lt;- joined_districts |&gt; mutate(\n  difference_category = case_when(\n    difference &lt; -10000 ~ \"less than -10,000\",\n    difference &lt;= -5000 ~ \"-10,000 to -5,000\",\n    difference &lt;= 0 ~ \"-5,000 to 0\",\n    difference &lt;= 5000 ~\"0 to 5,000\",\n    difference &lt;= 10000 ~ \"5,000 to 10,000\",\n    difference &gt; 10000 ~ \"greater than 10,000\"\n  )\n) |&gt; mutate(\n  difference_category = difference_category |&gt; factor(levels = c(\"less than -10,000\",\"-10,000 to -5,000\",\"-5,000 to 0\",\"0 to 5,000\",\"5,000 to 10,000\",\"greater than 10,000\"))\n)\n\ndifference_categories |&gt; glimpse()\n\nRows: 1,017\nColumns: 19\n$ FID                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,…\n$ GEOID20             &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"48215…\n$ NAME20              &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys R…\n$ SDLEA               &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"4635…\n$ NAME                &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", …\n$ NAME2               &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"…\n$ DISTRICT_N          &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 749…\n$ DISTRICT            &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-9…\n$ DISTRICT_C          &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", …\n$ NCES_DISTR          &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"48215…\n$ COLOR               &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7,…\n$ Shape__Are          &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 33544288…\n$ Shape__Len          &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 8202…\n$ tea_description     &lt;fct&gt; Rural, Rural, Rural, Rural, Rural, Rural, Rural, M…\n$ nces_description    &lt;chr&gt; \"Rural-Distant\", \"Rural-Remote\", \"Rural-Distant\", …\n$ bill_category       &lt;fct&gt; under 1600, under 300, under 300, under 1600, unde…\n$ difference          &lt;dbl&gt; 716, -12386, 29496, 2382, 7617, -17888, -4346, 841…\n$ geometry            &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTI…\n$ difference_category &lt;fct&gt; \"0 to 5,000\", \"less than -10,000\", \"greater than 1…\n\n\nNow, I can map the differences based on those categories.\n\nmapview(difference_categories, zcol = \"difference_category\", col.regions=brewer.pal(6, \"RdYlBu\"))",
    "crumbs": [
      "Difference in Salary and Cost of Living Map"
    ]
  },
  {
    "objectID": "Map3.html#setup",
    "href": "Map3.html#setup",
    "title": "Map3",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nabove_below_alice &lt;- read_rds(\"data-processed/above_below_alice.rds\")\n\n\nschool_districts &lt;- st_read(\"data-raw/Current_Districts_2025/Current_Districts_2025.shp\") \n\nReading layer `Current_Districts_2025' from data source \n  `/Users/karina/Documents/mig-data/tea-teachers/data-raw/Current_Districts_2025/Current_Districts_2025.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1017 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -106.6457 ymin: 25.83717 xmax: -93.50805 ymax: 36.50071\nGeodetic CRS:  WGS 84\n\nschool_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 14\n$ FID        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ GEOID20    &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ NAME20     &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranch Inde…\n$ SDLEA      &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\", \"3864…\n$ NAME       &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wheeler …\n$ NAME2      &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Grandview…\n$ DISTRICT_N &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917, 20908…\n$ DISTRICT   &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\", \"116…\n$ DISTRICT_C &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"116909\",…\n$ NCES_DISTR &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ COLOR      &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3, 5, 3,…\n$ Shape__Are &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, 222513…\n$ Shape__Len &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.368, 11…\n$ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOLYGON (…\n\n\n\nabove_below_alice |&gt; filter(district_number == \"123913\")\n\n# A tibble: 9 × 14\n# Groups:   county [1]\n  region county  district_name district_number total_enrollment average_base_pay\n  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n1 05     JEFFER… SABINE PASS … 123913                       379            46849\n2 05     JEFFER… SABINE PASS … 123913                       386            47179\n3 05     JEFFER… SABINE PASS … 123913                       380            46781\n4 05     JEFFER… SABINE PASS … 123913                       372            49494\n5 05     JEFFER… SABINE PASS … 123913                       371            49304\n6 05     JEFFER… SABINE PASS … 123913                       375            51812\n7 05     JEFFER… SABINE PASS … 123913                       388            51336\n8 05     JEFFER… SABINE PASS … 123913                       370            52243\n9 05     JEFFER… SABINE PASS … 123913                       358            56096\n# ℹ 8 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   difference &lt;dbl&gt;, bill_category &lt;fct&gt;, above_alice &lt;lgl&gt;\n\nsimple_alice &lt;- above_below_alice |&gt; mutate(\n   tea_description = factor(tea_description, levels = c(\"Rural\", \"Non-metropolitan Stable\", \"Non-metropolitan Fast Growing\", \"Independent Town\", \"Other Central City Suburban\", \"Other Central City\", \"Major Suburban\", \"Major Urban\"))\n ) |&gt; \n  ungroup() |&gt; \n  filter(end_year == 2024) |&gt; \n  select(district_number, tea_description, nces_description, bill_category, difference) \n\nsimple_alice\n\n# A tibble: 1,020 × 5\n   district_number tea_description     nces_description bill_category difference\n   &lt;chr&gt;           &lt;fct&gt;               &lt;chr&gt;            &lt;fct&gt;              &lt;dbl&gt;\n 1 001902          Rural               Rural-Remote     under 1600         -1483\n 2 001903          Non-metropolitan S… Rural-Distant    under 1600         -4162\n 3 001904          Rural               Rural-Distant    under 1600         -2851\n 4 001906          Rural               Rural-Distant    under 1600         -7088\n 5 001907          Independent Town    Town-Distant     under 5000         -4833\n 6 001909          Rural               Rural-Remote     under 1600          1286\n 7 001908          Non-metropolitan S… Town-Distant     under 1600         -9004\n 8 002901          Other Central City… Town-Distant     under 5000           872\n 9 003907          Non-metropolitan S… Rural-Fringe     under 1600          4929\n10 003905          Non-metropolitan S… Town-Remote      under 5000         10133\n# ℹ 1,010 more rows\n\n\nNow I will join that simplified dataframe with the shape file information.\n\njoined_districts &lt;- school_districts |&gt; left_join(simple_alice, by = c(\"DISTRICT_C\" = \"district_number\"))\n\njoined_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 18\n$ FID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…\n$ GEOID20          &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ NAME20           &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranc…\n$ SDLEA            &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\",…\n$ NAME             &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wh…\n$ NAME2            &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Gra…\n$ DISTRICT_N       &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917,…\n$ DISTRICT         &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\"…\n$ DISTRICT_C       &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"11…\n$ NCES_DISTR       &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ COLOR            &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3,…\n$ Shape__Are       &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, …\n$ Shape__Len       &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.3…\n$ tea_description  &lt;fct&gt; Rural, Rural, Rural, Rural, Rural, Rural, Rural, Majo…\n$ nces_description &lt;chr&gt; \"Rural-Distant\", \"Rural-Remote\", \"Rural-Distant\", \"Ru…\n$ bill_category    &lt;fct&gt; under 1600, under 300, under 300, under 1600, under 3…\n$ difference       &lt;dbl&gt; 716, -12386, 29496, 2382, 7617, -17888, -4346, 841, 4…\n$ geometry         &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOL…\n\n\nNow I want to group the difference column into categories so we can see it better.\n\ndifference_categories &lt;- joined_districts |&gt; mutate(\n  difference_category = case_when(\n    difference &lt; -10000 ~ \"less than -10,000\",\n    difference &lt;= -5000 ~ \"-10,000 to -5,000\",\n    difference &lt;= 0 ~ \"-5,000 to 0\",\n    difference &lt;= 5000 ~\"0 to 5,000\",\n    difference &lt;= 10000 ~ \"5,000 to 10,000\",\n    difference &gt; 10000 ~ \"greater than 10,000\"\n  )\n) |&gt; mutate(\n  difference_category = difference_category |&gt; factor(levels = c(\"less than -10,000\",\"-10,000 to -5,000\",\"-5,000 to 0\",\"0 to 5,000\",\"5,000 to 10,000\",\"greater than 10,000\"))\n)\n\ndifference_categories |&gt; glimpse()\n\nRows: 1,017\nColumns: 19\n$ FID                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,…\n$ GEOID20             &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"48215…\n$ NAME20              &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys R…\n$ SDLEA               &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"4635…\n$ NAME                &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", …\n$ NAME2               &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"…\n$ DISTRICT_N          &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 749…\n$ DISTRICT            &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-9…\n$ DISTRICT_C          &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", …\n$ NCES_DISTR          &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"48215…\n$ COLOR               &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7,…\n$ Shape__Are          &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 33544288…\n$ Shape__Len          &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 8202…\n$ tea_description     &lt;fct&gt; Rural, Rural, Rural, Rural, Rural, Rural, Rural, M…\n$ nces_description    &lt;chr&gt; \"Rural-Distant\", \"Rural-Remote\", \"Rural-Distant\", …\n$ bill_category       &lt;fct&gt; under 1600, under 300, under 300, under 1600, unde…\n$ difference          &lt;dbl&gt; 716, -12386, 29496, 2382, 7617, -17888, -4346, 841…\n$ geometry            &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTI…\n$ difference_category &lt;fct&gt; \"0 to 5,000\", \"less than -10,000\", \"greater than 1…\n\n\nNow, I can map the differences based on those categories.\n\nmapview(difference_categories, zcol = \"difference_category\", col.regions=brewer.pal(6, \"RdYlBu\"))",
    "crumbs": [
      "Difference in Salary and Cost of Living Map"
    ]
  },
  {
    "objectID": "Map1.html",
    "href": "Map1.html",
    "title": "Analysis2",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nabove_below_alice &lt;- read_rds(\"data-processed/above_below_alice.rds\")",
    "crumbs": [
      "TEA District Types Map"
    ]
  },
  {
    "objectID": "Map1.html#setup",
    "href": "Map1.html#setup",
    "title": "Analysis2",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nabove_below_alice &lt;- read_rds(\"data-processed/above_below_alice.rds\")",
    "crumbs": [
      "TEA District Types Map"
    ]
  },
  {
    "objectID": "Map1.html#maps",
    "href": "Map1.html#maps",
    "title": "Analysis2",
    "section": "Maps",
    "text": "Maps\nWe are going to look at where each of the district types fall geographically. As well as where the highest difference in salary and alicce thresholds exists.\nFirst I have to get the shape file for the Texas school districts.\n\nschool_districts &lt;- st_read(\"data-raw/Current_Districts_2025/Current_Districts_2025.shp\") \n\nReading layer `Current_Districts_2025' from data source \n  `/Users/karina/Documents/mig-data/tea-teachers/data-raw/Current_Districts_2025/Current_Districts_2025.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1017 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -106.6457 ymin: 25.83717 xmax: -93.50805 ymax: 36.50071\nGeodetic CRS:  WGS 84\n\nschool_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 14\n$ FID        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ GEOID20    &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ NAME20     &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranch Inde…\n$ SDLEA      &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\", \"3864…\n$ NAME       &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wheeler …\n$ NAME2      &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Grandview…\n$ DISTRICT_N &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917, 20908…\n$ DISTRICT   &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\", \"116…\n$ DISTRICT_C &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"116909\",…\n$ NCES_DISTR &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ COLOR      &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3, 5, 3,…\n$ Shape__Are &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, 222513…\n$ Shape__Len &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.368, 11…\n$ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOLYGON (…\n\n\nNow I am going to make some adjustments so the data is graphable. I am narrowing it down to 2024, factoring the tea_description based on how the district types are presented on TEA’s website and then I am selecting the columns I care about.\n\nabove_below_alice |&gt; filter(district_number == \"123913\")\n\n# A tibble: 9 × 14\n# Groups:   county [1]\n  region county  district_name district_number total_enrollment average_base_pay\n  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n1 05     JEFFER… SABINE PASS … 123913                       379            46849\n2 05     JEFFER… SABINE PASS … 123913                       386            47179\n3 05     JEFFER… SABINE PASS … 123913                       380            46781\n4 05     JEFFER… SABINE PASS … 123913                       372            49494\n5 05     JEFFER… SABINE PASS … 123913                       371            49304\n6 05     JEFFER… SABINE PASS … 123913                       375            51812\n7 05     JEFFER… SABINE PASS … 123913                       388            51336\n8 05     JEFFER… SABINE PASS … 123913                       370            52243\n9 05     JEFFER… SABINE PASS … 123913                       358            56096\n# ℹ 8 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   difference &lt;dbl&gt;, bill_category &lt;fct&gt;, above_alice &lt;lgl&gt;\n\nsimple_alice &lt;- above_below_alice |&gt; mutate(\n   tea_description = factor(tea_description, levels = c(\"Rural\", \"Non-metropolitan Stable\", \"Non-metropolitan Fast Growing\", \"Independent Town\", \"Other Central City Suburban\", \"Other Central City\", \"Major Suburban\", \"Major Urban\"))\n ) |&gt; \n  ungroup() |&gt; \n  filter(end_year == 2024) |&gt; \n  select(district_number, tea_description, nces_description, bill_category, difference) \n\nsimple_alice\n\n# A tibble: 1,020 × 5\n   district_number tea_description     nces_description bill_category difference\n   &lt;chr&gt;           &lt;fct&gt;               &lt;chr&gt;            &lt;fct&gt;              &lt;dbl&gt;\n 1 001902          Rural               Rural-Remote     under 1600         -1483\n 2 001903          Non-metropolitan S… Rural-Distant    under 1600         -4162\n 3 001904          Rural               Rural-Distant    under 1600         -2851\n 4 001906          Rural               Rural-Distant    under 1600         -7088\n 5 001907          Independent Town    Town-Distant     under 5000         -4833\n 6 001909          Rural               Rural-Remote     under 1600          1286\n 7 001908          Non-metropolitan S… Town-Distant     under 1600         -9004\n 8 002901          Other Central City… Town-Distant     under 5000           872\n 9 003907          Non-metropolitan S… Rural-Fringe     under 1600          4929\n10 003905          Non-metropolitan S… Town-Remote      under 5000         10133\n# ℹ 1,010 more rows\n\n\nNow I will join that simplified dataframe with the shape file information.\n\njoined_districts &lt;- school_districts |&gt; left_join(simple_alice, by = c(\"DISTRICT_C\" = \"district_number\"))\n\njoined_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 18\n$ FID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…\n$ GEOID20          &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ NAME20           &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranc…\n$ SDLEA            &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\",…\n$ NAME             &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wh…\n$ NAME2            &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Gra…\n$ DISTRICT_N       &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917,…\n$ DISTRICT         &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\"…\n$ DISTRICT_C       &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"11…\n$ NCES_DISTR       &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ COLOR            &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3,…\n$ Shape__Are       &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, …\n$ Shape__Len       &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.3…\n$ tea_description  &lt;fct&gt; Rural, Rural, Rural, Rural, Rural, Rural, Rural, Majo…\n$ nces_description &lt;chr&gt; \"Rural-Distant\", \"Rural-Remote\", \"Rural-Distant\", \"Ru…\n$ bill_category    &lt;fct&gt; under 1600, under 300, under 300, under 1600, under 3…\n$ difference       &lt;dbl&gt; 716, -12386, 29496, 2382, 7617, -17888, -4346, 841, 4…\n$ geometry         &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOL…\n\n\nNow let’s look at the where each of the TEA district types fall on a map.\n\nmapview(joined_districts, zcol = \"tea_description\")",
    "crumbs": [
      "TEA District Types Map"
    ]
  },
  {
    "objectID": "AnalysisNCES.html",
    "href": "AnalysisNCES.html",
    "title": "AnalysisNCES",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nteaching_staff_totals &lt;- read_rds(\"data-processed/teaching_staff_totals.rds\")\nsalary_col_comparison &lt;- read_rds(\"data-processed/salary_col_comparison.rds\")",
    "crumbs": [
      "NCES District Type Analysis"
    ]
  },
  {
    "objectID": "AnalysisNCES.html#setup",
    "href": "AnalysisNCES.html#setup",
    "title": "AnalysisNCES",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nteaching_staff_totals &lt;- read_rds(\"data-processed/teaching_staff_totals.rds\")\nsalary_col_comparison &lt;- read_rds(\"data-processed/salary_col_comparison.rds\")",
    "crumbs": [
      "NCES District Type Analysis"
    ]
  },
  {
    "objectID": "AnalysisNCES.html#nces-district-types",
    "href": "AnalysisNCES.html#nces-district-types",
    "title": "AnalysisNCES",
    "section": "NCES District Types",
    "text": "NCES District Types\nWe decided not to use this so I moved the analysis I already did with NCES district types down here and didn’t continue to use it.\n\nCount and Average Pay for NCES\n\nteaching_staff_totals |&gt; group_by(nces_description) |&gt; count()\n\n# A tibble: 13 × 2\n# Groups:   nces_description [13]\n   nces_description     n\n   &lt;chr&gt;            &lt;int&gt;\n 1 City-Large         305\n 2 City-Midsize       166\n 3 City-Small         200\n 4 Rural-Distant     2780\n 5 Rural-Fringe      1087\n 6 Rural-Remote      1985\n 7 Suburb-Large       672\n 8 Suburb-Midsize     226\n 9 Suburb-Small        46\n10 Town-Distant       859\n11 Town-Fringe        291\n12 Town-Remote        681\n13 &lt;NA&gt;                24\n\n\nFinding average pay per school year for each NCES district type.\n\ndistrict_types_nces_chart &lt;- teaching_staff_totals |&gt; group_by(nces_description, school_year) |&gt; \n  summarize(avg_pay = mean(average_base_pay))\n\n`summarise()` has grouped output by 'nces_description'. You can override using\nthe `.groups` argument.\n\ndistrict_types_nces_chart\n\n# A tibble: 127 × 3\n# Groups:   nces_description [13]\n   nces_description school_year avg_pay\n   &lt;chr&gt;            &lt;chr&gt;         &lt;dbl&gt;\n 1 City-Large       2014-2015    52463.\n 2 City-Large       2015-2016    53582.\n 3 City-Large       2016-2017    54324.\n 4 City-Large       2017-2018    55315.\n 5 City-Large       2018-2019    55907.\n 6 City-Large       2019-2020    58484.\n 7 City-Large       2020-2021    58959.\n 8 City-Large       2021-2022    60901.\n 9 City-Large       2022-2023    61563.\n10 City-Large       2023-2024    63822.\n# ℹ 117 more rows\n\n\nGraphing it.\n\nggplot(district_types_nces_chart, aes(x = school_year, y = avg_pay, color = nces_description, group = nces_description)) +\n  geom_point() +\n  geom_line() +\n  theme(legend.position = \"bottom\") +\n  guides(color = guide_legend(nrow = 4, byrow = TRUE))\n\n\n\n\n\n\n\n\n\n\nAverage and Median of difference between salary and ALICE for each NCES district type\n\nsalary_col_comparison |&gt; group_by(nces_description) |&gt; \n  summarize(avg_difference = mean(difference),\n            median_difference = median(difference),\n            number_of_districts = n()) |&gt; \n  arrange(avg_difference)\n\n# A tibble: 13 × 4\n   nces_description avg_difference median_difference number_of_districts\n   &lt;chr&gt;                     &lt;dbl&gt;             &lt;dbl&gt;               &lt;int&gt;\n 1 Town-Fringe             -3887.             -2854                  291\n 2 &lt;NA&gt;                    -3055.             -2348                   24\n 3 Rural-Distant           -2597.             -2000.                2780\n 4 Rural-Fringe            -2192.             -1501                 1087\n 5 Town-Distant            -1356.              -970                  859\n 6 Rural-Remote               68.7               38                 1985\n 7 Town-Remote                84.5              825                  681\n 8 Suburb-Large              257.               844                  672\n 9 City-Small                566.               914                  200\n10 Suburb-Midsize            695.               646                  226\n11 Suburb-Small             1306.              1204                   46\n12 City-Large               1851.              1823                  305\n13 City-Midsize             1948.              2263                  166\n\n\n\navg_difference_over_time_nces &lt;- salary_col_comparison |&gt; group_by(nces_description, end_year) |&gt; \n  summarize(avg_difference = mean(difference))\n\n`summarise()` has grouped output by 'nces_description'. You can override using\nthe `.groups` argument.\n\navg_difference_over_time_nces\n\n# A tibble: 127 × 3\n# Groups:   nces_description [13]\n   nces_description end_year avg_difference\n   &lt;chr&gt;            &lt;chr&gt;             &lt;dbl&gt;\n 1 City-Large       2015              2311.\n 2 City-Large       2016              3430.\n 3 City-Large       2017              4172.\n 4 City-Large       2018               769.\n 5 City-Large       2019               453.\n 6 City-Large       2020              2896.\n 7 City-Large       2021               577.\n 8 City-Large       2022             -3714 \n 9 City-Large       2023               251.\n10 City-Large       2024              2510.\n# ℹ 117 more rows\n\n\n\nggplot(avg_difference_over_time_nces, \n       aes(x = end_year, y = avg_difference, color = nces_description, group = nces_description)) + \n  geom_line() +\n  scale_y_continuous(limits = c(-10000,5000), n.breaks = 10)",
    "crumbs": [
      "NCES District Type Analysis"
    ]
  },
  {
    "objectID": "CleaningTEASalaries.html",
    "href": "CleaningTEASalaries.html",
    "title": "Cleaning TEA Salaries",
    "section": "",
    "text": "Importing the libraries we need.\n\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(readxl)",
    "crumbs": [
      "Cleaning TEA Salaries"
    ]
  },
  {
    "objectID": "CleaningTEASalaries.html#setup",
    "href": "CleaningTEASalaries.html#setup",
    "title": "Cleaning TEA Salaries",
    "section": "",
    "text": "Importing the libraries we need.\n\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(readxl)",
    "crumbs": [
      "Cleaning TEA Salaries"
    ]
  },
  {
    "objectID": "CleaningTEASalaries.html#import-all-the-salary-files",
    "href": "CleaningTEASalaries.html#import-all-the-salary-files",
    "title": "Cleaning TEA Salaries",
    "section": "Import all the salary files",
    "text": "Import all the salary files\n\nsalary_files_list &lt;- list.files(\n  \"data-raw\",\n  pattern = \".csv\",\n  full.names = T\n)\n\nsalary_files_list\n\n [1] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2014-2015.csv\"\n [2] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2015-2016.csv\"\n [3] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2016-2017.csv\"\n [4] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2017-2018.csv\"\n [5] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2018-2019.csv\"\n [6] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2019-2020.csv\"\n [7] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2020-2021.csv\"\n [8] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2021-2022.csv\"\n [9] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2022-2023.csv\"\n[10] \"data-raw/Staff Salary FTE Report_Statewide_Districts_2023-2024.csv\"\n\n\n\nimport_files &lt;- function(file_name) {\n  df &lt;- file_name |&gt; \n    read_csv(     #read csv first and skip the TEA heading lines\n      skip = 5) |&gt;\n    clean_names() |&gt; \n    mutate(fte_count = as.numeric(fte_count),\n           total_base_pay = as.numeric(total_base_pay),\n           average_base_pay = as.numeric(average_base_pay))\n}\n\ntea_salaries &lt;- salary_files_list |&gt; set_names(basename) |&gt; \n  map(import_files) |&gt;  #map on our new function\n  list_rbind(names_to = \"source\")\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 39350 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (10): Region, County, District, District Name, Charter Status, Staff_Cat...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There were 3 warnings in `mutate()`.\nThe first warning was:\nℹ In argument: `fte_count = as.numeric(fte_count)`.\nCaused by warning:\n! NAs introduced by coercion\nℹ Run `dplyr::last_dplyr_warnings()` to see the 2 remaining warnings.\nOne or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 39096 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (10): Region, County, District, District Name, Charter Status, Staff_Cat...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There were 3 warnings in `mutate()`.\nThe first warning was:\nℹ In argument: `fte_count = as.numeric(fte_count)`.\nCaused by warning:\n! NAs introduced by coercion\nℹ Run `dplyr::last_dplyr_warnings()` to see the 2 remaining warnings.\nOne or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 39429 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Region, County, District, District Name, Charter Status, Staff_Cate...\ndbl (3): FTE Count, Total Base Pay, Average Base Pay\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 51617 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (10): Region, County, District, District Name, Charter Status, Staff_Cat...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There were 3 warnings in `mutate()`.\nThe first warning was:\nℹ In argument: `fte_count = as.numeric(fte_count)`.\nCaused by warning:\n! NAs introduced by coercion\nℹ Run `dplyr::last_dplyr_warnings()` to see the 2 remaining warnings.\nOne or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 52126 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Region, County, District, District Name, Charter Status, Staff_Cate...\ndbl (3): FTE Count, Total Base Pay, Average Base Pay\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 52224 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Region, County, District, District Name, Charter Status, Staff_Cate...\ndbl (3): FTE Count, Total Base Pay, Average Base Pay\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 52500 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Region, County, District, District Name, Charter Status, Staff_Cate...\ndbl (3): FTE Count, Total Base Pay, Average Base Pay\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 53092 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (10): Region, County, District, District Name, Charter Status, Staff_Cat...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There were 3 warnings in `mutate()`.\nThe first warning was:\nℹ In argument: `fte_count = as.numeric(fte_count)`.\nCaused by warning:\n! NAs introduced by coercion\nℹ Run `dplyr::last_dplyr_warnings()` to see the 2 remaining warnings.\nOne or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 53521 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Region, County, District, District Name, Charter Status, Staff_Cate...\ndbl (3): FTE Count, Total Base Pay, Average Base Pay\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 53839 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Region, County, District, District Name, Charter Status, Staff_Cate...\ndbl (3): FTE Count, Total Base Pay, Average Base Pay\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ntea_salaries\n\n# A tibble: 486,794 × 11\n   source     region county district district_name charter_status staff_category\n   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;          &lt;chr&gt;         \n 1 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 2 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 3 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 4 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 5 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 6 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 7 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 8 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 9 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n10 Staff Sal… 07     ANDER… 001902   CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n# ℹ 486,784 more rows\n# ℹ 4 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;\n\n\nI know that the end of each file has weird extra lines with extra text. Let’s remove all of those lines that don’t have an actual region. Then we check that the files combined correctly by looking at the end of the datatset\n\ntea_salaries &lt;- tea_salaries |&gt; filter(str_length(region) &lt;= 2)\n\ntea_salaries |&gt; tail(50)\n\n# A tibble: 50 × 11\n   source     region county district district_name charter_status staff_category\n   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;          &lt;chr&gt;         \n 1 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… SUPPORT STAFF \n 2 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… SUPPORT STAFF \n 3 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… SUPPORT STAFF \n 4 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… SUPPORT STAFF \n 5 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… ADMINISTRATIV…\n 6 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… ADMINISTRATIV…\n 7 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… ADMINISTRATIV…\n 8 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… ADMINISTRATIV…\n 9 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… ADMINISTRATIV…\n10 Staff Sal… 07     ANGEL… 003906   ZAVALLA ISD   TRADITIONAL I… &lt;NA&gt;          \n# ℹ 40 more rows\n# ℹ 4 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;\n\n\nAnother check that the files combined correctly.\n\ntea_salaries |&gt; group_by(district) |&gt; \n  summarize(total = n())\n\n# A tibble: 1,256 × 2\n   district total\n   &lt;chr&gt;    &lt;int&gt;\n 1 001902     380\n 2 001903     332\n 3 001904     323\n 4 001906     282\n 5 001907     452\n 6 001908     358\n 7 001909     291\n 8 002901     520\n 9 003801     385\n10 003902     424\n# ℹ 1,246 more rows\n\n\nAnother check that the files combined correctly.\n\ntea_salaries$staff_category |&gt; unique()\n\n[1] \"TEACHING STAFF\"         \"SUPPORT STAFF\"          \"ADMINISTRATIVE STAFF\"  \n[4] NA                       \"PARAPROFESSIONAL STAFF\" \"AUXILIARY\"             \n[7] \"AUXILIARY STAFF\"        \"TRADITIONAL ISD/CSD\"   \n\n\n“TRADITIONAL ISD/CSD” shouldn’t be in there. Let’s see where that error is occurring.\n\ntea_salaries |&gt; filter(staff_category == \"TRADITIONAL ISD/CSD\")\n\n# A tibble: 1 × 11\n  source      region county district district_name charter_status staff_category\n  &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;          &lt;chr&gt;         \n1 Staff Sala… 05     NEWTO… 176901   \"TEXAS EDUCA… &lt;NA&gt;           TRADITIONAL I…\n# ℹ 4 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;\n\n\nIt’s only one row…and it looks like it might be missing data. Let’s look at all the rows for this district.\n\ntea_salaries |&gt; filter(district == \"176901\")\n\n# A tibble: 307 × 11\n   source     region county district district_name charter_status staff_category\n   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;          &lt;chr&gt;         \n 1 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 2 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 3 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 4 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 5 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 6 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 7 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 8 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n 9 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n10 Staff Sal… 05     NEWTO… 176901   BURKEVILLE I… TRADITIONAL I… TEACHING STAFF\n# ℹ 297 more rows\n# ℹ 4 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;\n\n\nThese look normal…we only want staff_category that is “TEACHING STAFF” anyways so we can disregard that weird row since it has “ADMINISTRATIVE STAFF”.\nNow we want to pull the school year from the file name (source column). Then we will get rid of that source column cause we don’t need it anymore and then I need ot factor the years so R understands that the strings have an order.\n\nteaching_staff_salaries &lt;- tea_salaries |&gt; filter(staff_category == \"TEACHING STAFF\") |&gt; \n  mutate(school_year = substr(source, start = (nchar(source) - 13 + 1), stop = nchar(source)-4))\n\nteaching_staff_salaries &lt;- teaching_staff_salaries |&gt; select(-source) |&gt; \n  mutate(\n    school_year = factor(school_year, \n                         levels = c(\"2014-2015\", \"2015-2016\", \"2016-2017\", \"2017-2018\", \"2018-2019\", \"2019-2020\", \"2020-2021\", \"2021-2022\", \"2022-2023\", \"2023-2024\")))\n\ncolnames(teaching_staff_salaries)[colnames(teaching_staff_salaries) == \"district\"] &lt;- \"district_number\"\n\nteaching_staff_salaries\n\n# A tibble: 160,221 × 11\n   region county     district_number district_name charter_status staff_category\n   &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;          &lt;chr&gt;         \n 1 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 2 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 3 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 4 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 5 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 6 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 7 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 8 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n 9 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n10 07     ANDERSON … 001902          CAYUGA ISD    TRADITIONAL I… TEACHING STAFF\n# ℹ 160,211 more rows\n# ℹ 5 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;fct&gt;",
    "crumbs": [
      "Cleaning TEA Salaries"
    ]
  },
  {
    "objectID": "CleaningTEASalaries.html#district-types-and-join",
    "href": "CleaningTEASalaries.html#district-types-and-join",
    "title": "Cleaning TEA Salaries",
    "section": "District Types and Join",
    "text": "District Types and Join\nLet’s read in the district types spreadsheet. We also want to clean the names and then change the first column to be district_name so it doesn’t conflict when we join it later.\n\ndistrict_types &lt;- read_xlsx(\"data-raw/district-type2223.xlsx\", sheet = \"2223_Data\") |&gt; clean_names()\n\ncolnames(district_types)[colnames(district_types) == 'district'] &lt;- 'district_name'\n\ndistrict_types\n\n# A tibble: 1,217 × 7\n   district_name               district_number tea_district_type tea_description\n   &lt;chr&gt;                       &lt;chr&gt;           &lt;chr&gt;             &lt;chr&gt;          \n 1 A W BROWN LEADERSHIP ACADE… 057816          I                 Charter Schools\n 2 A+ ACADEMY                  057829          I                 Charter Schools\n 3 A+ UNLIMITED POTENTIAL      101871          I                 Charter Schools\n 4 ABBOTT ISD                  109901          H                 Rural          \n 5 ABERNATHY ISD               095901          H                 Rural          \n 6 ABILENE ISD                 221901          C                 Other Central …\n 7 ACADEMY FOR ACADEMIC EXCEL… 057814          I                 Charter Schools\n 8 ACADEMY ISD                 014901          G                 Non-metropolit…\n 9 ACADEMY OF ACCELERATED LEA… 101810          I                 Charter Schools\n10 ACADEMY OF DALLAS           057810          I                 Charter Schools\n# ℹ 1,207 more rows\n# ℹ 3 more variables: nces_district_type &lt;chr&gt;, nces_description &lt;chr&gt;,\n#   charter_school_y_n &lt;chr&gt;\n\n\nNow I am going to join the district type data frame with the district salary data.\n\nsalaries_district_types &lt;- teaching_staff_salaries |&gt;  left_join(district_types, by = \"district_number\") \n\nsalaries_district_types \n\n# A tibble: 160,221 × 17\n   region county   district_number district_name.x charter_status staff_category\n   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;         \n 1 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 2 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 3 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 4 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 5 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 6 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 7 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 8 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 9 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n10 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n# ℹ 160,211 more rows\n# ℹ 11 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;fct&gt;, district_name.y &lt;chr&gt;,\n#   tea_district_type &lt;chr&gt;, tea_description &lt;chr&gt;, nces_district_type &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, charter_school_y_n &lt;chr&gt;\n\n\n\nsalaries_district_types |&gt; count(district_number, district_name.x, district_name.y) |&gt; count(district_number, sort = T)\n\n# A tibble: 1,255 × 2\n   district_number     n\n   &lt;chr&gt;           &lt;int&gt;\n 1 227824              4\n 2 015830              3\n 3 004901              2\n 4 015805              2\n 5 015806              2\n 6 015808              2\n 7 015815              2\n 8 015822              2\n 9 015825              2\n10 015828              2\n# ℹ 1,245 more rows\n\n\n\nsalaries_district_types |&gt; filter(district_number == \"227824\") \n\n# A tibble: 126 × 17\n   region county   district_number district_name.x charter_status staff_category\n   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;         \n 1 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 2 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 3 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 4 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 5 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 6 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 7 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 8 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n 9 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n10 13     TRAVIS … 227824          THE EAST AUSTI… OPEN ENROLLME… TEACHING STAFF\n# ℹ 116 more rows\n# ℹ 11 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;fct&gt;, district_name.y &lt;chr&gt;,\n#   tea_district_type &lt;chr&gt;, tea_description &lt;chr&gt;, nces_district_type &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, charter_school_y_n &lt;chr&gt;\n\n\n\nsalaries_district_types &lt;- salaries_district_types |&gt; mutate(\n  end_year = substr(school_year, start = 6, stop = 9)\n)\n\nsalaries_district_types\n\n# A tibble: 160,221 × 18\n   region county   district_number district_name.x charter_status staff_category\n   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;         \n 1 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 2 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 3 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 4 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 5 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 6 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 7 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 8 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 9 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n10 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n# ℹ 160,211 more rows\n# ℹ 12 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;fct&gt;, district_name.y &lt;chr&gt;,\n#   tea_district_type &lt;chr&gt;, tea_description &lt;chr&gt;, nces_district_type &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, charter_school_y_n &lt;chr&gt;, end_year &lt;chr&gt;",
    "crumbs": [
      "Cleaning TEA Salaries"
    ]
  },
  {
    "objectID": "CleaningTEASalaries.html#export",
    "href": "CleaningTEASalaries.html#export",
    "title": "Cleaning TEA Salaries",
    "section": "Export",
    "text": "Export\nI want to export the above dataframe to use for analysis in my next notebook.\n\nsalaries_district_types |&gt; write_rds(\"data-processed/teaching_staff_salaries.rds\")",
    "crumbs": [
      "Cleaning TEA Salaries"
    ]
  },
  {
    "objectID": "CleaningCPI-ALICE.html",
    "href": "CleaningCPI-ALICE.html",
    "title": "CleaningCPI",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(readxl)\nhistorical_cpi &lt;- read_xlsx(\"data-raw/historical-cpi-u-202502.xlsx\", \n                            skip = 3, \n                            col_names = TRUE,\n                            col_types = c(\"guess\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\", \"numeric\"))\n\nWarning: Coercing text to numeric in B6 / R6C2: '1913'\n\n\nWarning: Coercing text to numeric in B7 / R7C2: '1914'\n\n\nWarning: Coercing text to numeric in B8 / R8C2: '1915'\n\n\nWarning: Coercing text to numeric in B9 / R9C2: '1916'\n\n\nWarning: Coercing text to numeric in B10 / R10C2: '1917'\n\n\nWarning: Coercing text to numeric in B11 / R11C2: '1918'\n\n\nWarning: Coercing text to numeric in B12 / R12C2: '1919'\n\n\nWarning: Coercing text to numeric in B13 / R13C2: '1920'\n\n\nWarning: Coercing text to numeric in B14 / R14C2: '1921'\n\n\nWarning: Coercing text to numeric in B15 / R15C2: '1922'\n\n\nWarning: Coercing text to numeric in B16 / R16C2: '1923'\n\n\nWarning: Coercing text to numeric in B17 / R17C2: '1924'\n\n\nWarning: Coercing text to numeric in B18 / R18C2: '1925'\n\n\nWarning: Coercing text to numeric in B19 / R19C2: '1926'\n\n\nWarning: Coercing text to numeric in B20 / R20C2: '1927'\n\n\nWarning: Coercing text to numeric in B21 / R21C2: '1928'\n\n\nWarning: Coercing text to numeric in B22 / R22C2: '1929'\n\n\nWarning: Coercing text to numeric in B23 / R23C2: '1930'\n\n\nWarning: Coercing text to numeric in B24 / R24C2: '1931'\n\n\nWarning: Coercing text to numeric in B25 / R25C2: '1932'\n\n\nWarning: Coercing text to numeric in B26 / R26C2: '1933'\n\n\nWarning: Coercing text to numeric in B27 / R27C2: '1934'\n\n\nWarning: Coercing text to numeric in B28 / R28C2: '1935'\n\n\nWarning: Coercing text to numeric in B29 / R29C2: '1936'\n\n\nWarning: Coercing text to numeric in B30 / R30C2: '1937'\n\n\nWarning: Coercing text to numeric in B31 / R31C2: '1938'\n\n\nWarning: Coercing text to numeric in B32 / R32C2: '1939'\n\n\nWarning: Coercing text to numeric in B33 / R33C2: '1940'\n\n\nWarning: Coercing text to numeric in B34 / R34C2: '1941'\n\n\nWarning: Coercing text to numeric in B35 / R35C2: '1942'\n\n\nWarning: Coercing text to numeric in B36 / R36C2: '1943'\n\n\nWarning: Coercing text to numeric in B37 / R37C2: '1944'\n\n\nWarning: Coercing text to numeric in B38 / R38C2: '1945'\n\n\nWarning: Coercing text to numeric in B39 / R39C2: '1946'\n\n\nWarning: Coercing text to numeric in B40 / R40C2: '1947'\n\n\nWarning: Coercing text to numeric in B41 / R41C2: '1948'\n\n\nWarning: Coercing text to numeric in B42 / R42C2: '1949'\n\n\nWarning: Coercing text to numeric in B43 / R43C2: '1950'\n\n\nWarning: Coercing text to numeric in B44 / R44C2: '1951'\n\n\nWarning: Coercing text to numeric in B45 / R45C2: '1952'\n\n\nWarning: Coercing text to numeric in B46 / R46C2: '1953'\n\n\nWarning: Coercing text to numeric in B47 / R47C2: '1954'\n\n\nWarning: Coercing text to numeric in B48 / R48C2: '1955'\n\n\nWarning: Coercing text to numeric in B49 / R49C2: '1956'\n\n\nWarning: Coercing text to numeric in B50 / R50C2: '1957'\n\n\nWarning: Coercing text to numeric in B51 / R51C2: '1958'\n\n\nWarning: Coercing text to numeric in B52 / R52C2: '1959'\n\n\nWarning: Coercing text to numeric in B53 / R53C2: '1960'\n\n\nWarning: Coercing text to numeric in B54 / R54C2: '1961'\n\n\nWarning: Coercing text to numeric in B55 / R55C2: '1962'\n\n\nWarning: Coercing text to numeric in B56 / R56C2: '1963'\n\n\nWarning: Coercing text to numeric in B57 / R57C2: '1964'\n\n\nWarning: Coercing text to numeric in B58 / R58C2: '1965'\n\n\nWarning: Coercing text to numeric in B59 / R59C2: '1966'\n\n\nWarning: Coercing text to numeric in B60 / R60C2: '1967'\n\n\nWarning: Coercing text to numeric in B61 / R61C2: '1968'\n\n\nWarning: Coercing text to numeric in B62 / R62C2: '1969'\n\n\nWarning: Coercing text to numeric in B63 / R63C2: '1970'\n\n\nWarning: Coercing text to numeric in B64 / R64C2: '1971'\n\n\nWarning: Coercing text to numeric in B65 / R65C2: '1972'\n\n\nWarning: Coercing text to numeric in B66 / R66C2: '1973'\n\n\nWarning: Coercing text to numeric in B67 / R67C2: '1974'\n\n\nWarning: Coercing text to numeric in B68 / R68C2: '1975'\n\n\nWarning: Coercing text to numeric in B69 / R69C2: '1976'\n\n\nWarning: Coercing text to numeric in B70 / R70C2: '1977'\n\n\nWarning: Coercing text to numeric in B71 / R71C2: '1978'\n\n\nWarning: Coercing text to numeric in B72 / R72C2: '1979'\n\n\nWarning: Coercing text to numeric in B73 / R73C2: '1980'\n\n\nWarning: Coercing text to numeric in B74 / R74C2: '1981'\n\n\nWarning: Coercing text to numeric in B75 / R75C2: '1982'\n\n\nWarning: Coercing text to numeric in B76 / R76C2: '1983'\n\n\nWarning: Coercing text to numeric in B77 / R77C2: '1984'\n\n\nWarning: Coercing text to numeric in B78 / R78C2: '1985'\n\n\nWarning: Coercing text to numeric in B79 / R79C2: '1986'\n\n\nWarning: Coercing text to numeric in B80 / R80C2: '1987'\n\n\nWarning: Coercing text to numeric in B81 / R81C2: '1988'\n\n\nWarning: Coercing text to numeric in B82 / R82C2: '1989'\n\n\nWarning: Coercing text to numeric in B83 / R83C2: '1990'\n\n\nWarning: Coercing text to numeric in B84 / R84C2: '1991'\n\n\nWarning: Coercing text to numeric in B85 / R85C2: '1992'\n\n\nWarning: Coercing text to numeric in B86 / R86C2: '1993'\n\n\nWarning: Coercing text to numeric in B87 / R87C2: '1994'\n\n\nWarning: Coercing text to numeric in B88 / R88C2: '1995'\n\n\nWarning: Coercing text to numeric in B89 / R89C2: '1996'\n\n\nWarning: Coercing text to numeric in B90 / R90C2: '1997'\n\n\nWarning: Coercing text to numeric in B91 / R91C2: '1998'\n\n\nWarning: Coercing text to numeric in B92 / R92C2: '1999'\n\n\nWarning: Coercing text to numeric in B93 / R93C2: '2000'\n\n\nWarning: Coercing text to numeric in B94 / R94C2: '2001'\n\n\nWarning: Coercing text to numeric in B95 / R95C2: '2002'\n\n\nWarning: Coercing text to numeric in B96 / R96C2: '2003'\n\n\nWarning: Coercing text to numeric in B97 / R97C2: '2004'\n\n\nWarning: Coercing text to numeric in B98 / R98C2: '2005'\n\n\nWarning: Coercing text to numeric in B99 / R99C2: '2006'\n\n\nWarning: Coercing text to numeric in B100 / R100C2: '2007'\n\n\nWarning: Coercing text to numeric in B101 / R101C2: '2008'\n\n\nWarning: Coercing text to numeric in B102 / R102C2: '2009'\n\n\nWarning: Coercing text to numeric in B103 / R103C2: '2010'\n\n\nWarning: Coercing text to numeric in B104 / R104C2: '2011'\n\n\nWarning: Coercing text to numeric in B105 / R105C2: '2012'\n\n\nWarning: Coercing text to numeric in B106 / R106C2: '2013'\n\n\nWarning: Coercing text to numeric in B107 / R107C2: '2014'\n\n\nWarning: Coercing text to numeric in B108 / R108C2: '2015'\n\n\nWarning: Coercing text to numeric in B109 / R109C2: '2016'\n\n\nWarning: Coercing text to numeric in B110 / R110C2: '2017'\n\n\nWarning: Coercing text to numeric in B111 / R111C2: '2018'\n\n\nWarning: Coercing text to numeric in B112 / R112C2: '2019'\n\n\nWarning: Coercing text to numeric in B113 / R113C2: '2020'\n\n\nWarning: Coercing text to numeric in B114 / R114C2: '2021'\n\n\nWarning: Coercing text to numeric in B115 / R115C2: '2022'\n\n\nWarning: Coercing text to numeric in B116 / R116C2: '2023'\n\n\nWarning: Coercing text to numeric in B117 / R117C2: '2024'\n\n\nWarning: Coercing text to numeric in B118 / R118C2: '2025'\n\n\nWarning: Expecting numeric in E118 / R118C5: got '–'\n\n\nWarning: Expecting numeric in F118 / R118C6: got '–'\n\n\nWarning: Expecting numeric in G118 / R118C7: got '–'\n\n\nWarning: Expecting numeric in H118 / R118C8: got '–'\n\n\nWarning: Expecting numeric in I118 / R118C9: got '–'\n\n\nWarning: Expecting numeric in J118 / R118C10: got '–'\n\n\nWarning: Expecting numeric in K118 / R118C11: got '–'\n\n\nWarning: Expecting numeric in L118 / R118C12: got '–'\n\n\nWarning: Expecting numeric in M118 / R118C13: got '–'\n\n\nWarning: Expecting numeric in N118 / R118C14: got '–'\n\nhistorical_cpi\n\n# A tibble: 114 × 14\n   `Indent Level`  Year  Jan.  Feb.  Mar.  Apr.   May  Jun.  Jul.  Aug.  Sep.\n            &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1             NA    NA  NA    NA    NA    NA    NA    NA    NA    NA    NA  \n 2              0  1913   9.8   9.8   9.8   9.8   9.7   9.8   9.9   9.9  10  \n 3              0  1914  10     9.9   9.9   9.8   9.9   9.9  10    10.2  10.2\n 4              0  1915  10.1  10     9.9  10    10.1  10.1  10.1  10.1  10.1\n 5              0  1916  10.4  10.4  10.5  10.6  10.7  10.8  10.8  10.9  11.1\n 6              0  1917  11.7  12    12    12.6  12.8  13    12.8  13    13.3\n 7              0  1918  14    14.1  14    14.2  14.5  14.7  15.1  15.4  15.7\n 8              0  1919  16.5  16.2  16.4  16.7  16.9  16.9  17.4  17.7  17.8\n 9              0  1920  19.3  19.5  19.7  20.3  20.6  20.9  20.8  20.3  20  \n10              0  1921  19    18.4  18.3  18.1  17.7  17.6  17.7  17.7  17.5\n# ℹ 104 more rows\n# ℹ 3 more variables: Oct. &lt;dbl&gt;, Nov. &lt;dbl&gt;, Dec. &lt;dbl&gt;\nhistorical_cpi_clean &lt;- historical_cpi |&gt; \n  clean_names() |&gt; \n  select(-indent_level) |&gt; \n  drop_na(year)\n\nhistorical_cpi_clean\n\n# A tibble: 113 × 13\n    year   jan   feb   mar   apr   may   jun   jul   aug   sep   oct   nov   dec\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1  1913   9.8   9.8   9.8   9.8   9.7   9.8   9.9   9.9  10    10    10.1  10  \n 2  1914  10     9.9   9.9   9.8   9.9   9.9  10    10.2  10.2  10.1  10.2  10.1\n 3  1915  10.1  10     9.9  10    10.1  10.1  10.1  10.1  10.1  10.2  10.3  10.3\n 4  1916  10.4  10.4  10.5  10.6  10.7  10.8  10.8  10.9  11.1  11.3  11.5  11.6\n 5  1917  11.7  12    12    12.6  12.8  13    12.8  13    13.3  13.5  13.5  13.7\n 6  1918  14    14.1  14    14.2  14.5  14.7  15.1  15.4  15.7  16    16.3  16.5\n 7  1919  16.5  16.2  16.4  16.7  16.9  16.9  17.4  17.7  17.8  18.1  18.5  18.9\n 8  1920  19.3  19.5  19.7  20.3  20.6  20.9  20.8  20.3  20    19.9  19.8  19.4\n 9  1921  19    18.4  18.3  18.1  17.7  17.6  17.7  17.7  17.5  17.5  17.4  17.3\n10  1922  16.9  16.9  16.7  16.7  16.7  16.7  16.8  16.6  16.6  16.7  16.8  16.9\n# ℹ 103 more rows\nrecent_cpi &lt;- historical_cpi_clean |&gt; filter(year &gt; 2013)\nrecent_cpi\n\n# A tibble: 12 × 13\n    year   jan   feb   mar   apr   may   jun   jul   aug   sep   oct   nov   dec\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1  2014  234.  235.  236.  237.  238.  238.  238.  238.  238.  237.  236.  235.\n 2  2015  234.  235.  236.  237.  238.  239.  239.  238.  238.  238.  237.  237.\n 3  2016  237.  237.  238.  239.  240.  241.  241.  241.  241.  242.  241.  241.\n 4  2017  243.  244.  244.  245.  245.  245.  245.  246.  247.  247.  247.  247.\n 5  2018  248.  249.  250.  251.  252.  252.  252.  252.  252.  253.  252.  251.\n 6  2019  252.  253.  254.  256.  256.  256.  257.  257.  257.  257.  257.  257.\n 7  2020  258.  259.  258.  256.  256.  258.  259.  260.  260.  260.  260.  260.\n 8  2021  262.  263.  265.  267.  269.  272.  273.  274.  274.  277.  278.  279.\n 9  2022  281.  284.  288.  289.  292.  296.  296.  296.  297.  298.  298.  297.\n10  2023  299.  301.  302.  303.  304.  305.  306.  307.  308.  308.  307.  307.\n11  2024  308.  310.  312.  314.  314.  314.  315.  315.  315.  316.  315.  316.\n12  2025  318.  319.   NA    NA    NA    NA    NA    NA    NA    NA    NA    NA\nrecent_cpi_pivoted &lt;- recent_cpi |&gt; pivot_longer(!year, names_to = \"month\", values_to = \"cpi\")\n\nrecent_cpi_pivoted\n\n# A tibble: 144 × 3\n    year month   cpi\n   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;\n 1  2014 jan    234.\n 2  2014 feb    235.\n 3  2014 mar    236.\n 4  2014 apr    237.\n 5  2014 may    238.\n 6  2014 jun    238.\n 7  2014 jul    238.\n 8  2014 aug    238.\n 9  2014 sep    238.\n10  2014 oct    237.\n# ℹ 134 more rows\ncpi_cleaned &lt;- recent_cpi_pivoted |&gt; mutate(\n  year_month = my(paste(month, year))\n) |&gt; select(year_month,\n            cpi,\n            -year,\n            -month)\n\ncpi_cleaned\n\n# A tibble: 144 × 2\n   year_month   cpi\n   &lt;date&gt;     &lt;dbl&gt;\n 1 2014-01-01  234.\n 2 2014-02-01  235.\n 3 2014-03-01  236.\n 4 2014-04-01  237.\n 5 2014-05-01  238.\n 6 2014-06-01  238.\n 7 2014-07-01  238.\n 8 2014-08-01  238.\n 9 2014-09-01  238.\n10 2014-10-01  237.\n# ℹ 134 more rows\ncpi_cleaned |&gt; write_rds(\"data-processed/cpi_201401_202502\")",
    "crumbs": [
      "Cleaning CPI and ALICE"
    ]
  },
  {
    "objectID": "CleaningCPI-ALICE.html#cpi-for-texas",
    "href": "CleaningCPI-ALICE.html#cpi-for-texas",
    "title": "CleaningCPI",
    "section": "CPI for Texas",
    "text": "CPI for Texas\nThere is not data from the government on cost of living or consumer price index by county in Texas. But here’s the statewide consumer price index.\n\nggplot(cpi_cleaned, aes(x = year_month, y = cpi)) +\n  geom_line()\n\nWarning: Removed 10 rows containing missing values (`geom_line()`).\n\n\n\n\n\n\n\n\n\n\nalice &lt;- read_xlsx(\"data-raw/2024 ALICE - Texas Data Sheet.xlsx\",\n                   sheet = \"County 2010-2022\") |&gt; clean_names()\n\nalice \n\n# A tibble: 2,032 × 13\n   state  year geo_id2 geo_display_label      county   state_abbr households\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;                  &lt;chr&gt;    &lt;chr&gt;           &lt;dbl&gt;\n 1 Texas  2010 48001   Anderson County, Texas Anderson TX              15936\n 2 Texas  2012 48001   Anderson County, Texas Anderson TX              16738\n 3 Texas  2014 48001   Anderson County, Texas Anderson TX              16610\n 4 Texas  2016 48001   Anderson County, Texas Anderson TX              16572\n 5 Texas  2018 48001   Anderson County, Texas Anderson TX              16459\n 6 Texas  2019 48001   Anderson County, Texas Anderson TX              16677\n 7 Texas  2021 48001   Anderson County, Texas Anderson TX              16477\n 8 Texas  2022 48001   Anderson County, Texas Anderson TX              16899\n 9 Texas  2010 48003   Andrews County, Texas  Andrews  TX               5205\n10 Texas  2012 48003   Andrews County, Texas  Andrews  TX               5183\n# ℹ 2,022 more rows\n# ℹ 6 more variables: poverty_households &lt;dbl&gt;, alice_households &lt;dbl&gt;,\n#   above_alice_households &lt;dbl&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   alice_threshold_hh_65_years_and_over &lt;dbl&gt;,\n#   source_american_community_survey &lt;chr&gt;\n\n\n\nhousehold_budget &lt;- alice |&gt; select(\n  -geo_id2,\n  -geo_display_label,\n  -state_abbr,\n  -source_american_community_survey\n)\n\nhousehold_budget\n\n# A tibble: 2,032 × 9\n   state  year county   households poverty_households alice_households\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;              &lt;dbl&gt;            &lt;dbl&gt;\n 1 Texas  2010 Anderson      15936               2949             5451\n 2 Texas  2012 Anderson      16738               3099             6006\n 3 Texas  2014 Anderson      16610               2789             6922\n 4 Texas  2016 Anderson      16572               2516             6533\n 5 Texas  2018 Anderson      16459               2450             7771\n 6 Texas  2019 Anderson      16677               2434             7846\n 7 Texas  2021 Anderson      16477               2409             6673\n 8 Texas  2022 Anderson      16899               2549             6491\n 9 Texas  2010 Andrews        5205                733             1020\n10 Texas  2012 Andrews        5183                696             1043\n# ℹ 2,022 more rows\n# ℹ 3 more variables: above_alice_households &lt;dbl&gt;,\n#   alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   alice_threshold_hh_65_years_and_over &lt;dbl&gt;\n\n\n\nhousehold_budget_simple &lt;- household_budget |&gt; \n  mutate(county = paste(toupper(county), \"COUNTY\"),\n         end_year = as.character(year)) |&gt; \n  select(end_year, county, alice_threshold_hh_under_65)\n\nhousehold_budget_simple\n\n# A tibble: 2,032 × 3\n   end_year county          alice_threshold_hh_under_65\n   &lt;chr&gt;    &lt;chr&gt;                                 &lt;dbl&gt;\n 1 2010     ANDERSON COUNTY                      50000 \n 2 2012     ANDERSON COUNTY                      50000 \n 3 2014     ANDERSON COUNTY                      60000 \n 4 2016     ANDERSON COUNTY                      50000 \n 5 2018     ANDERSON COUNTY                      60000 \n 6 2019     ANDERSON COUNTY                      60000 \n 7 2021     ANDERSON COUNTY                      60000 \n 8 2022     ANDERSON COUNTY                      66821.\n 9 2010     ANDREWS COUNTY                       35000 \n10 2012     ANDREWS COUNTY                       40000 \n# ℹ 2,022 more rows\n\n\n\nhousehold_budget_simple |&gt; write_rds(\"data-processed/alice_household_budget.rds\")",
    "crumbs": [
      "Cleaning CPI and ALICE"
    ]
  },
  {
    "objectID": "CleaningEnrollment.html",
    "href": "CleaningEnrollment.html",
    "title": "CleaningEnrollment",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\n\n\nenrollment_file_list &lt;- list.files(\n  \"data-raw/enrollment\",\n  pattern = \".csv\",\n  full.names = TRUE\n)\n\nenrollment_file_list\n\n [1] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2014-2015.csv\"\n [2] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2015-2016.csv\"\n [3] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2016-2017.csv\"\n [4] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2017-2018.csv\"\n [5] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2018-2019.csv\"\n [6] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2019-2020.csv\"\n [7] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2020-2021.csv\"\n [8] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2021-2022.csv\"\n [9] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2022-2023.csv\"\n[10] \"data-raw/enrollment/Enrollment Report_Statewide_Districts_Gender_2023-2024.csv\"\n\n\n\nimporting_cleaning &lt;- function(file_name) {\n  df &lt;- file_name |&gt;  \n    read_csv(     #read csv first and skip the TEA heading lines\n      skip = 4) |&gt; \n    clean_names() |&gt;  # clean names to make the names uniform\n    mutate(enrollment = as.numeric(enrollment))  # change the column enrollment to a charcater for joining later\n}\n\nenrollment_all &lt;- enrollment_file_list |&gt; \n  map(importing_cleaning) |&gt;  #map on our new function\n  list_rbind()\n\nRows: 2440 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Year, Region, County Name, District Name, District Number, Charter ...\ndbl (1): Enrollment\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 2416 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Year, Region, County Name, District Name, District Number, Charter ...\ndbl (1): Enrollment\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 2408 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Year, Region, County Name, District Name, District Number, Charter ...\ndbl (1): Enrollment\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 2402 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): Year, Region, County Name, District Name, District Number, Charter ...\ndbl (1): Enrollment\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 2406 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): YEAR, REGION, COUNTY NAME, DISTRICT NUMBER, DISTRICT NAME, GENDER, ...\ndbl (1): ENROLLMENT\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 2407 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): YEAR, REGION, COUNTY NAME, DISTRICT NUMBER, DISTRICT NAME, GENDER, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `enrollment = as.numeric(enrollment)`.\nCaused by warning:\n! NAs introduced by coercion\n\n\nRows: 2411 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): YEAR, REGION, COUNTY NAME, DISTRICT NUMBER, DISTRICT NAME, CHARTER ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `enrollment = as.numeric(enrollment)`.\nCaused by warning:\n! NAs introduced by coercion\n\n\nRows: 2417 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): YEAR, REGION, COUNTY NAME, DISTRICT NUMBER, DISTRICT NAME, CHARTER ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `enrollment = as.numeric(enrollment)`.\nCaused by warning:\n! NAs introduced by coercion\n\n\nRows: 2421 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): YEAR, REGION, COUNTY NAME, DISTRICT NUMBER, DISTRICT NAME, CHARTER ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `enrollment = as.numeric(enrollment)`.\nCaused by warning:\n! NAs introduced by coercion\n\n\nRows: 2417 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): YEAR, REGION, COUNTY NAME, DISTRICT NUMBER, DISTRICT NAME, CHARTER ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `enrollment = as.numeric(enrollment)`.\nCaused by warning:\n! NAs introduced by coercion\n\nenrollment_all |&gt; tail(500)\n\n# A tibble: 500 × 8\n   year   region county_name district_name district_number charter_status gender\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt; \n 1 2023-… 15     COLEMAN CO… SANTA ANNA I… 042903          TRADITIONAL I… Female\n 2 2023-… 15     COLEMAN CO… SANTA ANNA I… 042903          TRADITIONAL I… Male  \n 3 2023-… 04     GALVESTON … SANTA FE ISD  084909          TRADITIONAL I… Female\n 4 2023-… 04     GALVESTON … SANTA FE ISD  084909          TRADITIONAL I… Male  \n 5 2023-… 02     KLEBERG CO… SANTA GERTRU… 137904          TRADITIONAL I… Female\n 6 2023-… 02     KLEBERG CO… SANTA GERTRU… 137904          TRADITIONAL I… Male  \n 7 2023-… 01     CAMERON CO… SANTA MARIA … 031913          TRADITIONAL I… Female\n 8 2023-… 01     CAMERON CO… SANTA MARIA … 031913          TRADITIONAL I… Male  \n 9 2023-… 01     CAMERON CO… SANTA ROSA I… 031914          TRADITIONAL I… Female\n10 2023-… 01     CAMERON CO… SANTA ROSA I… 031914          TRADITIONAL I… Male  \n# ℹ 490 more rows\n# ℹ 1 more variable: enrollment &lt;dbl&gt;\n\n\n\nenrollment_by_district &lt;- enrollment_all |&gt; group_by(district_name, year) |&gt; \n  summarize(total_enrollment = sum(enrollment, na.rm = T)) \n\n`summarise()` has grouped output by 'district_name'. You can override using the\n`.groups` argument.\n\nenrollment_by_district \n\n# A tibble: 11,953 × 3\n# Groups:   district_name [1,324]\n   district_name                      year      total_enrollment\n   &lt;chr&gt;                              &lt;chr&gt;                &lt;dbl&gt;\n 1 A W BROWN LEADERSHIP ACADEMY       2017-2018             2144\n 2 A W BROWN LEADERSHIP ACADEMY       2018-2019             2084\n 3 A W BROWN LEADERSHIP ACADEMY       2019-2020             1725\n 4 A W BROWN LEADERSHIP ACADEMY       2020-2021             1383\n 5 A W BROWN LEADERSHIP ACADEMY       2021-2022             1067\n 6 A W BROWN LEADERSHIP ACADEMY       2022-2023              975\n 7 A W BROWN LEADERSHIP ACADEMY       2023-2024              778\n 8 A W BROWN-FELLOWSHIP LEADERSHIP AC 2014-2015             2152\n 9 A W BROWN-FELLOWSHIP LEADERSHIP AC 2015-2016             2161\n10 A W BROWN-FELLOWSHIP LEADERSHIP AC 2016-2017             2278\n# ℹ 11,943 more rows\n\n\n\nenrollment_by_district |&gt; write_rds(\"data-processed/enrollment-by-district.rds\")",
    "crumbs": [
      "Cleaning TEA Enrollment"
    ]
  },
  {
    "objectID": "AnalysisInitial.html",
    "href": "AnalysisInitial.html",
    "title": "AnalysisTEASalaries",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisInitial.html#setup",
    "href": "AnalysisInitial.html#setup",
    "title": "AnalysisTEASalaries",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisInitial.html#read-in-cleaned-data",
    "href": "AnalysisInitial.html#read-in-cleaned-data",
    "title": "AnalysisTEASalaries",
    "section": "Read in cleaned data",
    "text": "Read in cleaned data\n\nteaching_staff_salaries &lt;- read_rds(\"data-processed/teaching_staff_salaries.rds\")\ncpi &lt;- read_rds(\"data-processed/cpi_201401_202502\")\nhousehold_budget_simple &lt;- read_rds(\"data-processed/alice_household_budget.rds\")\nenrollment &lt;- read_rds(\"data-processed/enrollment-by-district.rds\")\n\nNow I want to only look at totals for teaching staff at each district. I also want to exclude charters and exclude the weird small pay amounts.\n\nteaching_staff_totals_no_enroll &lt;- teaching_staff_salaries |&gt; \n  filter(staff == \"TOTAL TEACHING STAFF\" & average_base_pay &gt; 10000 & charter_status == \"TRADITIONAL ISD/CSD\")\n\nteaching_staff_totals_no_enroll\n\n# A tibble: 9,322 × 18\n   region county   district_number district_name.x charter_status staff_category\n   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;         \n 1 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 2 07     ANDERSO… 001903          ELKHART ISD     TRADITIONAL I… TEACHING STAFF\n 3 07     ANDERSO… 001904          FRANKSTON ISD   TRADITIONAL I… TEACHING STAFF\n 4 07     ANDERSO… 001906          NECHES ISD      TRADITIONAL I… TEACHING STAFF\n 5 07     ANDERSO… 001907          PALESTINE ISD   TRADITIONAL I… TEACHING STAFF\n 6 07     ANDERSO… 001908          WESTWOOD ISD    TRADITIONAL I… TEACHING STAFF\n 7 07     ANDERSO… 001909          SLOCUM ISD      TRADITIONAL I… TEACHING STAFF\n 8 18     ANDREWS… 002901          ANDREWS ISD     TRADITIONAL I… TEACHING STAFF\n 9 07     ANGELIN… 003902          HUDSON ISD      TRADITIONAL I… TEACHING STAFF\n10 07     ANGELIN… 003903          LUFKIN ISD      TRADITIONAL I… TEACHING STAFF\n# ℹ 9,312 more rows\n# ℹ 12 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;fct&gt;, district_name.y &lt;chr&gt;,\n#   tea_district_type &lt;chr&gt;, tea_description &lt;chr&gt;, nces_district_type &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, charter_school_y_n &lt;chr&gt;, end_year &lt;chr&gt;\n\n\nI want to add enrollment to this dataframe.\n\nteaching_staff_totals &lt;- teaching_staff_totals_no_enroll |&gt; \n   left_join(enrollment, by = c(\"district_name.x\" = \"district_name\", \"school_year\" = \"year\"))\n\nteaching_staff_totals |&gt; tail()\n\n# A tibble: 6 × 19\n  region county    district_number district_name.x charter_status staff_category\n  &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;         \n1 03     DEWITT C… 062903          YOAKUM ISD      TRADITIONAL I… TEACHING STAFF\n2 03     DEWITT C… 062904          YORKTOWN ISD    TRADITIONAL I… TEACHING STAFF\n3 19     EL PASO … 071905          YSLETA ISD      TRADITIONAL I… TEACHING STAFF\n4 01     ZAPATA C… 253901          ZAPATA COUNTY … TRADITIONAL I… TEACHING STAFF\n5 07     ANGELINA… 003906          ZAVALLA ISD     TRADITIONAL I… TEACHING STAFF\n6 15     BROWN CO… 025906          ZEPHYR ISD      TRADITIONAL I… TEACHING STAFF\n# ℹ 13 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;chr&gt;, district_name.y &lt;chr&gt;,\n#   tea_district_type &lt;chr&gt;, tea_description &lt;chr&gt;, nces_district_type &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, charter_school_y_n &lt;chr&gt;, end_year &lt;chr&gt;,\n#   total_enrollment &lt;dbl&gt;\n\n\nNow let’s look at the average pay per district per year so we can look at it over time.\n\nteaching_staff_average_school_years &lt;- teaching_staff_totals |&gt;\n  group_by(district_name.x, school_year) |&gt; summarize(avg_pay = mean(average_base_pay))\n\n`summarise()` has grouped output by 'district_name.x'. You can override using\nthe `.groups` argument.\n\nteaching_staff_average_school_years\n\n# A tibble: 9,222 × 3\n# Groups:   district_name.x [1,023]\n   district_name.x school_year avg_pay\n   &lt;chr&gt;           &lt;chr&gt;         &lt;dbl&gt;\n 1 ABBOTT ISD      2014-2015     42066\n 2 ABBOTT ISD      2015-2016     43863\n 3 ABBOTT ISD      2016-2017     43346\n 4 ABBOTT ISD      2017-2018     45447\n 5 ABBOTT ISD      2018-2019     44707\n 6 ABBOTT ISD      2019-2020     52540\n 7 ABBOTT ISD      2020-2021     51449\n 8 ABBOTT ISD      2021-2022     54155\n 9 ABBOTT ISD      2022-2023     55584\n10 ABBOTT ISD      2023-2024     54927\n# ℹ 9,212 more rows\n\n\nOkay there’s too many schools for us to graph these all at once. Maybe if we just do one region (central texas, 13).\n\naustin_schools &lt;- teaching_staff_totals |&gt; filter(region == \"13\") |&gt; \n  group_by(district_name.x, school_year) |&gt; summarize(avg_pay = mean(average_base_pay)) \n\n`summarise()` has grouped output by 'district_name.x'. You can override using\nthe `.groups` argument.\n\naustin_schools\n\n# A tibble: 483 × 3\n# Groups:   district_name.x [57]\n   district_name.x school_year avg_pay\n   &lt;chr&gt;           &lt;chr&gt;         &lt;dbl&gt;\n 1 AUSTIN ISD      2014-2015     47476\n 2 AUSTIN ISD      2015-2016     48631\n 3 AUSTIN ISD      2016-2017     50144\n 4 AUSTIN ISD      2017-2018     52397\n 5 AUSTIN ISD      2018-2019     51464\n 6 AUSTIN ISD      2019-2020     54707\n 7 AUSTIN ISD      2020-2021     55849\n 8 AUSTIN ISD      2021-2022     56424\n 9 AUSTIN ISD      2022-2023     58511\n10 AUSTIN ISD      2023-2024     60821\n# ℹ 473 more rows\n\n\nThat’s still too many to be understandable on a graph. Let’s instead look at just one district.\n\naustin &lt;- austin_schools |&gt; filter(district_name.x == \"AUSTIN ISD\")\n\n\nggplot(austin, aes(x = school_year, y = avg_pay, color = district_name.x, group = district_name.x)) +\n  geom_line() + \n  theme(legend.position = \"none\") #+\n\n\n\n\n\n\n\n  #facet_wrap(~district_name)    # we can use this if we are looking at multiple districts\n\n\nwrite_rds(teaching_staff_totals, \"data-processed/teaching_staff_totals.rds\")",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisInitial.html#with-district-types",
    "href": "AnalysisInitial.html#with-district-types",
    "title": "AnalysisTEASalaries",
    "section": "With District Types",
    "text": "With District Types\nI want to see how many districts are in each category from TEA in 2024.\n\nteaching_staff_totals |&gt; group_by(tea_description) |&gt; count(name = \"total_districts\")\n\n# A tibble: 9 × 2\n# Groups:   tea_description [9]\n  tea_description               total_districts\n  &lt;chr&gt;                                   &lt;int&gt;\n1 Independent Town                          489\n2 Major Suburban                            677\n3 Major Urban                               101\n4 Non-metropolitan Fast Growing             311\n5 Non-metropolitan Stable                  1647\n6 Other Central City                        321\n7 Other Central City Suburban              1519\n8 Rural                                    4233\n9 &lt;NA&gt;                                       24\n\n\n\nteaching_staff_totals |&gt; filter(school_year == \"2023-2024\") |&gt; group_by(tea_description) |&gt; count(name = \"total_districts\")\n\n# A tibble: 8 × 2\n# Groups:   tea_description [8]\n  tea_description               total_districts\n  &lt;chr&gt;                                   &lt;int&gt;\n1 Independent Town                           53\n2 Major Suburban                             75\n3 Major Urban                                11\n4 Non-metropolitan Fast Growing              34\n5 Non-metropolitan Stable                   181\n6 Other Central City                         35\n7 Other Central City Suburban               167\n8 Rural                                     464\n\n\nNow I want to see the average pay for each TEA district type for each school year.\n\ndistrict_types_tea_chart &lt;- teaching_staff_totals |&gt; group_by(tea_description, school_year) |&gt; \n  summarize(avg_pay = mean(average_base_pay))\n\n`summarise()` has grouped output by 'tea_description'. You can override using\nthe `.groups` argument.\n\ndistrict_types_tea_chart\n\n# A tibble: 87 × 3\n# Groups:   tea_description [9]\n   tea_description  school_year avg_pay\n   &lt;chr&gt;            &lt;chr&gt;         &lt;dbl&gt;\n 1 Independent Town 2014-2015    45775.\n 2 Independent Town 2015-2016    46330.\n 3 Independent Town 2016-2017    46938.\n 4 Independent Town 2017-2018    47376.\n 5 Independent Town 2018-2019    47945.\n 6 Independent Town 2019-2020    51791.\n 7 Independent Town 2020-2021    52313.\n 8 Independent Town 2021-2022    52986.\n 9 Independent Town 2022-2023    54895.\n10 Independent Town 2023-2024    57213.\n# ℹ 77 more rows\n\n\n\nChart\nNow let’s chart it.\n\nggplot(district_types_tea_chart, aes(x = school_year, y = avg_pay, color = tea_description, group = tea_description)) +\n  geom_point() +\n  geom_line() +\n  theme(legend.position = \"bottom\") +\n  guides(color = guide_legend(nrow = 4, byrow = TRUE))",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisInitial.html#adding-cost-of-living",
    "href": "AnalysisInitial.html#adding-cost-of-living",
    "title": "AnalysisTEASalaries",
    "section": "Adding Cost of Living",
    "text": "Adding Cost of Living\nNow that we have ALICE’s household survival budget, I can use it to compare that to each districts salaries.\nNow, I am going to left join it on both the county and year.\n\nsalaries_col &lt;- left_join(teaching_staff_totals, household_budget_simple, by = c(\"county\", \"end_year\"))\n\nsalaries_col\n\n# A tibble: 9,322 × 20\n   region county   district_number district_name.x charter_status staff_category\n   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;         \n 1 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 2 07     ANDERSO… 001903          ELKHART ISD     TRADITIONAL I… TEACHING STAFF\n 3 07     ANDERSO… 001904          FRANKSTON ISD   TRADITIONAL I… TEACHING STAFF\n 4 07     ANDERSO… 001906          NECHES ISD      TRADITIONAL I… TEACHING STAFF\n 5 07     ANDERSO… 001907          PALESTINE ISD   TRADITIONAL I… TEACHING STAFF\n 6 07     ANDERSO… 001908          WESTWOOD ISD    TRADITIONAL I… TEACHING STAFF\n 7 07     ANDERSO… 001909          SLOCUM ISD      TRADITIONAL I… TEACHING STAFF\n 8 18     ANDREWS… 002901          ANDREWS ISD     TRADITIONAL I… TEACHING STAFF\n 9 07     ANGELIN… 003902          HUDSON ISD      TRADITIONAL I… TEACHING STAFF\n10 07     ANGELIN… 003903          LUFKIN ISD      TRADITIONAL I… TEACHING STAFF\n# ℹ 9,312 more rows\n# ℹ 14 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;chr&gt;, district_name.y &lt;chr&gt;,\n#   tea_district_type &lt;chr&gt;, tea_description &lt;chr&gt;, nces_district_type &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, charter_school_y_n &lt;chr&gt;, end_year &lt;chr&gt;,\n#   total_enrollment &lt;dbl&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;\n\n\nThere are a few years that are inconsistent between the datasets. But since I have data around each year, I can use that. For example, I want to use 2016 for 2015 when needed. But, I also want to use 2022 for 2024 when needed. So I am going to fill up first, then down in each county.\nFirst, I am going to it out with a single district.\n\ntesting_filling &lt;- salaries_col |&gt; filter(county == \"ANDERSON COUNTY\") |&gt; select(\n  county, district_name.x, district_number, school_year, end_year, alice_threshold_hh_under_65) |&gt; \n  fill(alice_threshold_hh_under_65, .direction = \"updown\")\n\n\ntesting_filling\n\n# A tibble: 63 × 6\n   county          district_name.x district_number school_year end_year\n   &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;       &lt;chr&gt;   \n 1 ANDERSON COUNTY CAYUGA ISD      001902          2014-2015   2015    \n 2 ANDERSON COUNTY ELKHART ISD     001903          2014-2015   2015    \n 3 ANDERSON COUNTY FRANKSTON ISD   001904          2014-2015   2015    \n 4 ANDERSON COUNTY NECHES ISD      001906          2014-2015   2015    \n 5 ANDERSON COUNTY PALESTINE ISD   001907          2014-2015   2015    \n 6 ANDERSON COUNTY WESTWOOD ISD    001908          2014-2015   2015    \n 7 ANDERSON COUNTY SLOCUM ISD      001909          2014-2015   2015    \n 8 ANDERSON COUNTY CAYUGA ISD      001902          2015-2016   2016    \n 9 ANDERSON COUNTY ELKHART ISD     001903          2015-2016   2016    \n10 ANDERSON COUNTY FRANKSTON ISD   001904          2015-2016   2016    \n# ℹ 53 more rows\n# ℹ 1 more variable: alice_threshold_hh_under_65 &lt;dbl&gt;\n\n\nActually, I want to fill down first then up, because I want to use the previous year when necessary instead of a future year and then for 2015 I will use 2016.\nI’ll do it for all of the data.\n\nsalaries_col_fill &lt;- salaries_col |&gt; arrange(county, end_year) |&gt; \n  group_by(county) |&gt; \n  fill(alice_threshold_hh_under_65, .direction = \"downup\")\n\nsalaries_col_fill\n\n# A tibble: 9,322 × 20\n# Groups:   county [253]\n   region county   district_number district_name.x charter_status staff_category\n   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;         \n 1 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 2 07     ANDERSO… 001903          ELKHART ISD     TRADITIONAL I… TEACHING STAFF\n 3 07     ANDERSO… 001904          FRANKSTON ISD   TRADITIONAL I… TEACHING STAFF\n 4 07     ANDERSO… 001906          NECHES ISD      TRADITIONAL I… TEACHING STAFF\n 5 07     ANDERSO… 001907          PALESTINE ISD   TRADITIONAL I… TEACHING STAFF\n 6 07     ANDERSO… 001908          WESTWOOD ISD    TRADITIONAL I… TEACHING STAFF\n 7 07     ANDERSO… 001909          SLOCUM ISD      TRADITIONAL I… TEACHING STAFF\n 8 07     ANDERSO… 001902          CAYUGA ISD      TRADITIONAL I… TEACHING STAFF\n 9 07     ANDERSO… 001903          ELKHART ISD     TRADITIONAL I… TEACHING STAFF\n10 07     ANDERSO… 001904          FRANKSTON ISD   TRADITIONAL I… TEACHING STAFF\n# ℹ 9,312 more rows\n# ℹ 14 more variables: staff &lt;chr&gt;, fte_count &lt;dbl&gt;, total_base_pay &lt;dbl&gt;,\n#   average_base_pay &lt;dbl&gt;, school_year &lt;chr&gt;, district_name.y &lt;chr&gt;,\n#   tea_district_type &lt;chr&gt;, tea_description &lt;chr&gt;, nces_district_type &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, charter_school_y_n &lt;chr&gt;, end_year &lt;chr&gt;,\n#   total_enrollment &lt;dbl&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;\n\n\nNow I want to see the difference between the ALICE budget and the average salary for each district.\n\nsalary_col_comparison &lt;- salaries_col_fill |&gt; mutate(\n  difference = (average_base_pay - alice_threshold_hh_under_65) |&gt; round_half_up()\n  ) |&gt; select(\n  region, county, \"district_name\" = \"district_name.x\", district_number, total_enrollment, average_base_pay, school_year, end_year, tea_description, nces_description, alice_threshold_hh_under_65, difference\n)\n\nsalary_col_comparison\n\n# A tibble: 9,322 × 12\n# Groups:   county [253]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 07     ANDER… CAYUGA ISD    001902                       577            44925\n 2 07     ANDER… ELKHART ISD   001903                      1217            41985\n 3 07     ANDER… FRANKSTON ISD 001904                       803            41609\n 4 07     ANDER… NECHES ISD    001906                       370            42884\n 5 07     ANDER… PALESTINE ISD 001907                      3353            43642\n 6 07     ANDER… WESTWOOD ISD  001908                      1596            42097\n 7 07     ANDER… SLOCUM ISD    001909                       389            44371\n 8 07     ANDER… CAYUGA ISD    001902                       570            45359\n 9 07     ANDER… ELKHART ISD   001903                      1244            44248\n10 07     ANDER… FRANKSTON ISD 001904                       842            43165\n# ℹ 9,312 more rows\n# ℹ 6 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;, difference &lt;dbl&gt;\n\n\n\nwrite_rds(salary_col_comparison, \"data-processed/salary_col_comparison.rds\")\n\nLet’s look at the districts with the lowest values for difference in salary and ALICE, which means the most negative. I want to see the worst 10 for each year.\n\nsalary_col_comparison |&gt; group_by(end_year) |&gt; slice_min(difference, n = 10)\n\n# A tibble: 100 × 12\n# Groups:   end_year [10]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 13     WILLI… COUPLAND ISD  246914                       142            38142\n 2 15     EDWAR… ROCKSPRINGS … 069901                       257            38959\n 3 15     EDWAR… NUECES CANYO… 069902                       297            39233\n 4 15     CONCH… PAINT ROCK I… 048903                       211            40007\n 5 10     ELLIS… ITALY ISD     070907                       577            40555\n 6 18     REEVE… BALMORHEA ISD 195902                       161            40923\n 7 13     WILLI… GRANGER ISD   246905                       426            41634\n 8 06     WALKE… NEW WAVERLY … 236901                       964            41915\n 9 10     ELLIS… PALMER ISD    070910                      1145            42028\n10 13     WILLI… THRALL ISD    246912                       655            42164\n# ℹ 90 more rows\n# ℹ 6 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;, difference &lt;dbl&gt;\n\n\nNow let’s see the best 10 for each year (most positive).\n\nsalary_col_comparison |&gt; group_by(end_year) |&gt; slice_max(difference, n = 10)\n\n# A tibble: 100 × 12\n# Groups:   end_year [10]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 20     KERR … DIVIDE ISD    133905                  -9999993            63861\n 2 17     KENT … JAYTON-GIRAR… 132902                       130            51405\n 3 11     SOMER… GLEN ROSE ISD 213901                      1667            55351\n 4 17     BORDE… BORDEN COUNT… 017901                       249            60208\n 5 03     MATAG… PALACIOS ISD  158905                      1442            54612\n 6 04     CHAMB… BARBERS HILL… 036902                      4903            64376\n 7 18     TERRE… TERRELL COUN… 222901                       142            49273\n 8 18     BREWS… SAN VICENTE … 022903                        29            48777\n 9 16     OLDHA… BOYS RANCH I… 180901                       281            53602\n10 17     KING … GUTHRIE CSD   135001                       115            53465\n# ℹ 90 more rows\n# ℹ 6 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;, difference &lt;dbl&gt;\n\n\nNow I want to see the average difference, median difference and count of districts for each TEA district type category.\n\nsalary_col_comparison |&gt; group_by(tea_description) |&gt; \n  summarize(avg_difference = mean(difference),\n            median_difference = median(difference),\n            number_of_districts = n()) |&gt; \n            # fix number of districts, maybe\n  arrange(avg_difference)\n\n# A tibble: 9 × 4\n  tea_description           avg_difference median_difference number_of_districts\n  &lt;chr&gt;                              &lt;dbl&gt;             &lt;dbl&gt;               &lt;int&gt;\n1 Non-metropolitan Fast Gr…         -5368.             -4581                 311\n2 &lt;NA&gt;                              -3055.             -2348                  24\n3 Other Central City Subur…         -1702.             -1109                1519\n4 Non-metropolitan Stable           -1300.              -527                1647\n5 Rural                             -1043.              -719                4233\n6 Independent Town                   -420.                60                 489\n7 Other Central City                  205.               566                 321\n8 Major Suburban                      673.              1243                 677\n9 Major Urban                        1813.              2157                 101\n\n\nNow I want to look at the average difference over time.\n\navg_difference_over_time &lt;- salary_col_comparison |&gt; group_by(tea_description, end_year) |&gt; \n  summarize(avg_difference = mean(difference))\n\n`summarise()` has grouped output by 'tea_description'. You can override using\nthe `.groups` argument.\n\navg_difference_over_time\n\n# A tibble: 87 × 3\n# Groups:   tea_description [9]\n   tea_description  end_year avg_difference\n   &lt;chr&gt;            &lt;chr&gt;             &lt;dbl&gt;\n 1 Independent Town 2015               398.\n 2 Independent Town 2016               952.\n 3 Independent Town 2017              1560.\n 4 Independent Town 2018             -2813.\n 5 Independent Town 2019             -3092.\n 6 Independent Town 2020               753.\n 7 Independent Town 2021              -234.\n 8 Independent Town 2022             -5187.\n 9 Independent Town 2023             -1271.\n10 Independent Town 2024              1047.\n# ℹ 77 more rows\n\n\nLet’s graph it.\n\nggplot(avg_difference_over_time, \n       aes(x = end_year, y = avg_difference, color = tea_description, group = tea_description)) + \n  geom_line() +\n  scale_y_continuous(limits = c(-10000,5000), n.breaks = 10)\n\n\n\n\n\n\n\n\nThis graph shows the average difference between a district’s salary and the ALICE cost of living threshold for each TEA district type over time.",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisInitial.html#bill-categories",
    "href": "AnalysisInitial.html#bill-categories",
    "title": "AnalysisTEASalaries",
    "section": "Bill Categories",
    "text": "Bill Categories\nI am going to create a bill category column that includes the different categories the SB and HB have defined as important to the bill. These numbers incluse 5000, 1600 and 300.\n\nbill_category_df &lt;-salary_col_comparison |&gt; mutate(\n  bill_category = case_when(\n    total_enrollment &gt;= 5000 ~ \"over 5000\",\n    total_enrollment &lt; 300 ~ \"under 300\",\n    total_enrollment &lt; 1600 ~ \"under 1600\",\n    total_enrollment &lt; 5000 ~ \"under 5000\")\n) |&gt; mutate(\n  bill_category = factor(bill_category, levels = c(\"under 300\", \"under 1600\", \"under 5000\", \"over 5000\"))\n)\n\nbill_category_df\n\n# A tibble: 9,322 × 13\n# Groups:   county [253]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 07     ANDER… CAYUGA ISD    001902                       577            44925\n 2 07     ANDER… ELKHART ISD   001903                      1217            41985\n 3 07     ANDER… FRANKSTON ISD 001904                       803            41609\n 4 07     ANDER… NECHES ISD    001906                       370            42884\n 5 07     ANDER… PALESTINE ISD 001907                      3353            43642\n 6 07     ANDER… WESTWOOD ISD  001908                      1596            42097\n 7 07     ANDER… SLOCUM ISD    001909                       389            44371\n 8 07     ANDER… CAYUGA ISD    001902                       570            45359\n 9 07     ANDER… ELKHART ISD   001903                      1244            44248\n10 07     ANDER… FRANKSTON ISD 001904                       842            43165\n# ℹ 9,312 more rows\n# ℹ 7 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   difference &lt;dbl&gt;, bill_category &lt;fct&gt;\n\n\n\nwrite_rds(bill_category_df, \"data-processed/bill_cateogry_df.rds\")\n\nI am going to use the column bill_category to look at what the col vs salary looks like for the categories the bill wants to target. This is the same concept as above but for these bill categories instead of tea categories.\n\nbill_category_df |&gt; group_by(bill_category) |&gt; \n  summarize(avg_difference = mean(difference, na.rm = T),\n            median_difference = median(difference, na.rm = T),\n            total_districts_since_2015 = n())\n\n# A tibble: 4 × 4\n  bill_category avg_difference median_difference total_districts_since_2015\n  &lt;fct&gt;                  &lt;dbl&gt;             &lt;dbl&gt;                      &lt;int&gt;\n1 under 300             -1291.            -1058                        1861\n2 under 1600            -1426.             -822.                       3930\n3 under 5000            -1451.             -680                        1819\n4 over 5000               151.              616                        1712\n\n\n\nbill_category_df |&gt; filter(end_year == 2024) |&gt; \n  group_by(bill_category) |&gt; \n  summarize(avg_difference = mean(difference, na.rm = T),\n            median_difference = median(difference, na.rm = T),\n            total_districts_2024 = n())\n\n# A tibble: 4 × 4\n  bill_category avg_difference median_difference total_districts_2024\n  &lt;fct&gt;                  &lt;dbl&gt;             &lt;dbl&gt;                &lt;int&gt;\n1 under 300              649.               542.                  206\n2 under 1600            -399.               207                   425\n3 under 5000              85.3              284                   196\n4 over 5000             1218.              1312                   193\n\n\n\navg_difference_bill_category &lt;- bill_category_df |&gt; group_by(bill_category, end_year) |&gt; \n  summarize(avg_difference = mean(difference, na.rm = T))\n\n`summarise()` has grouped output by 'bill_category'. You can override using the\n`.groups` argument.\n\navg_difference_bill_category\n\n# A tibble: 40 × 3\n# Groups:   bill_category [4]\n   bill_category end_year avg_difference\n   &lt;fct&gt;         &lt;chr&gt;             &lt;dbl&gt;\n 1 under 300     2015             -1794.\n 2 under 300     2016              -951.\n 3 under 300     2017              -511.\n 4 under 300     2018             -4323.\n 5 under 300     2019             -3810.\n 6 under 300     2020              1470.\n 7 under 300     2021             -1109.\n 8 under 300     2022             -6138.\n 9 under 300     2023              -709.\n10 under 300     2024               649.\n# ℹ 30 more rows\n\n\n\nggplot(avg_difference_bill_category, \n       aes(x = end_year, y = avg_difference, color = bill_category, group = bill_category)) + \n  geom_line() +\n  scale_y_continuous(limits = c(-10000,5000), n.breaks = 10)",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisInitial.html#proportion-of-districts-with-salary-above-and-below-alice-line",
    "href": "AnalysisInitial.html#proportion-of-districts-with-salary-above-and-below-alice-line",
    "title": "AnalysisTEASalaries",
    "section": "Proportion of districts with salary above and below alice line",
    "text": "Proportion of districts with salary above and below alice line\nI want to know how many districts have salaries that meet the ALICE line or not. And find the proportion of of those districts for each TEA district type and based on the bill categories for districts.\nFirst, I want to create a column that indicates if the salary is above or below ALICE.\n\n# in a district category whats the number of districts where the salary is below alice for that district dividied by the total number of districts in that category\n\nabove_below_alice &lt;- bill_category_df |&gt; mutate(\n  above_alice = case_when(\n    average_base_pay &gt;= alice_threshold_hh_under_65 ~ T,\n    TRUE ~ F\n  )\n)\n\nabove_below_alice\n\n# A tibble: 9,322 × 14\n# Groups:   county [253]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 07     ANDER… CAYUGA ISD    001902                       577            44925\n 2 07     ANDER… ELKHART ISD   001903                      1217            41985\n 3 07     ANDER… FRANKSTON ISD 001904                       803            41609\n 4 07     ANDER… NECHES ISD    001906                       370            42884\n 5 07     ANDER… PALESTINE ISD 001907                      3353            43642\n 6 07     ANDER… WESTWOOD ISD  001908                      1596            42097\n 7 07     ANDER… SLOCUM ISD    001909                       389            44371\n 8 07     ANDER… CAYUGA ISD    001902                       570            45359\n 9 07     ANDER… ELKHART ISD   001903                      1244            44248\n10 07     ANDER… FRANKSTON ISD 001904                       842            43165\n# ℹ 9,312 more rows\n# ℹ 8 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   difference &lt;dbl&gt;, bill_category &lt;fct&gt;, above_alice &lt;lgl&gt;\n\n\nNow I am goint to count the number of districts below alice, count the total number of districts in each tea district group and then calculate the proportion of districts that fall below the line.\n\nabove_below_alice |&gt; group_by(tea_description) |&gt; \n  summarize(under_alice = sum(above_alice == FALSE),\n            total_districts_since_2015 = n()) |&gt; \n  mutate(prop_under_alice = (under_alice / total_districts_since_2015) |&gt; round_half_up(3)) |&gt; \n  arrange(desc(prop_under_alice))\n\n# A tibble: 9 × 4\n  tea_description            under_alice total_districts_sinc…¹ prop_under_alice\n  &lt;chr&gt;                            &lt;int&gt;                  &lt;int&gt;            &lt;dbl&gt;\n1 Non-metropolitan Fast Gro…         238                    311            0.765\n2 &lt;NA&gt;                                18                     24            0.75 \n3 Other Central City Suburb…         891                   1519            0.587\n4 Rural                             2327                   4233            0.55 \n5 Non-metropolitan Stable            884                   1647            0.537\n6 Independent Town                   240                    489            0.491\n7 Other Central City                 148                    321            0.461\n8 Major Suburban                     273                    677            0.403\n9 Major Urban                         32                    101            0.317\n# ℹ abbreviated name: ¹​total_districts_since_2015\n\n\nNow I want this for 2024.\n\nabove_below_alice |&gt; filter(end_year == 2024) |&gt; \n  group_by(tea_description) |&gt; \n  summarize(under_alice = sum(above_alice == FALSE),\n            total_districts_2024 = n()) |&gt; \n  mutate(prop_under_alice = (under_alice / total_districts_2024) |&gt; round_half_up(3)) |&gt; \n  arrange(desc(prop_under_alice))\n\n# A tibble: 8 × 4\n  tea_description              under_alice total_districts_2024 prop_under_alice\n  &lt;chr&gt;                              &lt;int&gt;                &lt;int&gt;            &lt;dbl&gt;\n1 Non-metropolitan Fast Growi…          25                   34            0.735\n2 Other Central City Suburban           84                  167            0.503\n3 Rural                                220                  464            0.474\n4 Independent Town                      22                   53            0.415\n5 Non-metropolitan Stable               75                  181            0.414\n6 Other Central City                    13                   35            0.371\n7 Major Suburban                        22                   75            0.293\n8 Major Urban                            2                   11            0.182\n\n\nNow here’s the same thing but for the bill categories.\n\nabove_below_alice |&gt; group_by(bill_category) |&gt; \n  summarize(under_alice = sum(above_alice == FALSE),\n            total_districts_2024 = n()) |&gt; \n  mutate(prop_under_alice = (under_alice / total_districts_2024) |&gt; round_half_up(3)) |&gt; \n  arrange(desc(prop_under_alice))\n\n# A tibble: 4 × 4\n  bill_category under_alice total_districts_2024 prop_under_alice\n  &lt;fct&gt;               &lt;int&gt;                &lt;int&gt;            &lt;dbl&gt;\n1 under 300            1077                 1861            0.579\n2 under 1600           2192                 3930            0.558\n3 under 5000           1007                 1819            0.554\n4 over 5000             775                 1712            0.453\n\n\nAnd again but for 2024.\n\nabove_below_alice |&gt; filter(end_year == 2024) |&gt; \n  group_by(bill_category) |&gt; \n  summarize(under_alice = sum(above_alice == FALSE),\n            total_districts_2024 = n()) |&gt; \n  mutate(prop_under_alice = (under_alice / total_districts_2024) |&gt; round_half_up(3)) |&gt; \n  arrange(desc(prop_under_alice))\n\n# A tibble: 4 × 4\n  bill_category under_alice total_districts_2024 prop_under_alice\n  &lt;fct&gt;               &lt;int&gt;                &lt;int&gt;            &lt;dbl&gt;\n1 under 1600            208                  425            0.489\n2 under 300              97                  206            0.471\n3 under 5000             92                  196            0.469\n4 over 5000              66                  193            0.342\n\n\n\nwrite_rds(above_below_alice, \"data-processed/above_below_alice.rds\")",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisInitial.html#proportion-abovebelow-alice-over-time",
    "href": "AnalysisInitial.html#proportion-abovebelow-alice-over-time",
    "title": "AnalysisTEASalaries",
    "section": "Proportion above/below alice over time",
    "text": "Proportion above/below alice over time\nNow let’s do the same thing as above but look at it over time so I can graph it. First for tea categories.\n\nabove_below_alice_over_time_tea &lt;- above_below_alice |&gt; group_by(tea_description, end_year) |&gt; \n  summarize(under_alice = sum(above_alice == FALSE),\n            total_districts = n()) |&gt; \n  mutate(prop_under_alice = (under_alice / total_districts) |&gt; round_half_up(3)) |&gt; \n  arrange(desc(prop_under_alice))\n\n`summarise()` has grouped output by 'tea_description'. You can override using\nthe `.groups` argument.\n\nabove_below_alice_over_time_tea\n\n# A tibble: 87 × 5\n# Groups:   tea_description [9]\n   tea_description         end_year under_alice total_districts prop_under_alice\n   &lt;chr&gt;                   &lt;chr&gt;          &lt;int&gt;           &lt;int&gt;            &lt;dbl&gt;\n 1 Major Urban             2022               2               2            1    \n 2 Non-metropolitan Fast … 2022               5               5            1    \n 3 &lt;NA&gt;                    2015               5               5            1    \n 4 &lt;NA&gt;                    2020               2               2            1    \n 5 &lt;NA&gt;                    2021               1               1            1    \n 6 Non-metropolitan Stable 2022              16              18            0.889\n 7 Non-metropolitan Fast … 2019              30              34            0.882\n 8 Major Suburban          2022               7               8            0.875\n 9 Non-metropolitan Fast … 2018              29              34            0.853\n10 Non-metropolitan Fast … 2023              29              34            0.853\n# ℹ 77 more rows\n\n\n\nggplot(above_below_alice_over_time_tea, \n       aes(x = end_year, \n           y = prop_under_alice, \n           color = tea_description, \n           group = tea_description)) +\n  geom_line() +\n  scale_y_continuous(limits = c(0, 1))\n\n\n\n\n\n\n\n\nNow for the bill categories.\n\nabove_below_alice_over_time_bill &lt;- above_below_alice |&gt; group_by(bill_category, end_year) |&gt; \n  summarize(under_alice = sum(above_alice == FALSE),\n            total_districts = n()) |&gt; \n  mutate(prop_under_alice = (under_alice / total_districts) |&gt; round_half_up(3)) |&gt; \n  arrange(desc(prop_under_alice))\n\n`summarise()` has grouped output by 'bill_category'. You can override using the\n`.groups` argument.\n\nabove_below_alice_over_time_bill\n\n# A tibble: 40 × 5\n# Groups:   bill_category [4]\n   bill_category end_year under_alice total_districts prop_under_alice\n   &lt;fct&gt;         &lt;chr&gt;          &lt;int&gt;           &lt;int&gt;            &lt;dbl&gt;\n 1 under 1600    2022              45              50            0.9  \n 2 under 5000    2022              26              29            0.897\n 3 under 300     2022              19              25            0.76 \n 4 over 5000     2022              15              20            0.75 \n 5 under 300     2019             150             201            0.746\n 6 under 300     2018             147             199            0.739\n 7 under 1600    2018             319             436            0.732\n 8 under 1600    2019             316             433            0.73 \n 9 under 5000    2018             143             197            0.726\n10 over 5000     2019             135             188            0.718\n# ℹ 30 more rows\n\n\n\nggplot(above_below_alice_over_time_bill, \n       aes(x = end_year, \n           y = prop_under_alice, \n           color = bill_category, \n           group = bill_category)) +\n  geom_line() +\n  scale_y_continuous(limits = c(0,1))\n\n\n\n\n\n\n\n\nQuestions from Camille 4/16: Which districts by type have the biggest discrepancy between cost of living and their average salary proportion of districts in each category that are above/below alice threshold How many districts of each type are under 5000 enrollment? What percentage of districts in each type are under 5000 enrollment? How many urban/suburban districts are under 5000 and how do they pay their teachers? This number of districts in texas pay their teachers under living wage (or percentage) What percentage of students are served by teachers that are underpaid?\nSpreadsheet from 2024: district type, district name, alice cost of living, avg_salary, difference, county, bill_category, enrollment ALICE methodology",
    "crumbs": [
      "Initial Analysis"
    ]
  },
  {
    "objectID": "AnalysisRegion20.html",
    "href": "AnalysisRegion20.html",
    "title": "AnalysisRegion20",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nsalary_col_comparison &lt;- read_rds(\"data-processed/salary_col_comparison.rds\")\nbill_category_df &lt;- read_rds(\"data-processed/bill_cateogry_df.rds\")",
    "crumbs": [
      "Region 20 Analysis"
    ]
  },
  {
    "objectID": "AnalysisRegion20.html#setup",
    "href": "AnalysisRegion20.html#setup",
    "title": "AnalysisRegion20",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nsalary_col_comparison &lt;- read_rds(\"data-processed/salary_col_comparison.rds\")\nbill_category_df &lt;- read_rds(\"data-processed/bill_cateogry_df.rds\")",
    "crumbs": [
      "Region 20 Analysis"
    ]
  },
  {
    "objectID": "AnalysisRegion20.html#region-20---san-antonio",
    "href": "AnalysisRegion20.html#region-20---san-antonio",
    "title": "AnalysisRegion20",
    "section": "Region 20 - San Antonio",
    "text": "Region 20 - San Antonio\nAll of the above for region 20…\n\nregion_20 &lt;- salary_col_comparison |&gt; filter(region == 20)\n\nregion_20\n\n# A tibble: 501 × 12\n# Groups:   county [19]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 20     ATASC… CHARLOTTE ISD 007901                       514            45651\n 2 20     ATASC… JOURDANTON I… 007902                      1638            52259\n 3 20     ATASC… LYTLE ISD     007904                      1724            46936\n 4 20     ATASC… PLEASANTON I… 007905                      3569            45390\n 5 20     ATASC… POTEET ISD    007906                      1745            47117\n 6 20     ATASC… CHARLOTTE ISD 007901                       499            44759\n 7 20     ATASC… JOURDANTON I… 007902                      1611            51969\n 8 20     ATASC… LYTLE ISD     007904                      1675            48807\n 9 20     ATASC… PLEASANTON I… 007905                      3508            46322\n10 20     ATASC… POTEET ISD    007906                      1788            47552\n# ℹ 491 more rows\n# ℹ 6 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;, difference &lt;dbl&gt;\n\n\n\nregion_20 |&gt; group_by(end_year) |&gt; slice_min(difference, n = 10)\n\n# A tibble: 94 × 12\n# Groups:   end_year [10]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 20     LA SA… COTULLA ISD   142901                      1353            45395\n 2 20     FRIO … PEARSALL ISD  082903                      2363            46324\n 3 20     FRIO … DILLEY ISD    082902                      1048            48299\n 4 20     KARNE… FALLS CITY I… 128904                       360            52118\n 5 20     KINNE… BRACKETT ISD  136901                       641            43246\n 6 20     ZAVAL… CRYSTAL CITY… 254901                      2069            43401\n 7 20     MEDIN… D'HANIS ISD   163902                       342            43859\n 8 20     MEDIN… NATALIA ISD   163903                      1127            44658\n 9 20     WILSO… STOCKDALE ISD 247906                       834            44705\n10 20     ATASC… PLEASANTON I… 007905                      3569            45390\n# ℹ 84 more rows\n# ℹ 6 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;, difference &lt;dbl&gt;\n\n\n\nregion_20 |&gt; group_by(end_year) |&gt; slice_max(difference, n = 10)\n\n# A tibble: 94 × 12\n# Groups:   end_year [10]\n   region county district_name district_number total_enrollment average_base_pay\n   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n 1 20     KERR … DIVIDE ISD    133905                  -9999993            63861\n 2 20     BEXAR… LACKLAND ISD  015913                       884            57990\n 3 20     BEXAR… ALAMO HEIGHT… 015901                      4763            57170\n 4 20     MAVER… EAGLE PASS I… 159901                     15076            51904\n 5 20     BEXAR… FT SAM HOUST… 015914                      1514            55717\n 6 20     BANDE… BANDERA ISD   010902                      2280            50255\n 7 20     GUADA… SCHERTZ-CIBO… 094902                     14638            55220\n 8 20     BEXAR… SOUTHWEST ISD 015912                     13524            55206\n 9 20     BEXAR… RANDOLPH FIE… 015906                      1293            54867\n10 20     BEXAR… EAST CENTRAL… 015911                      9836            54484\n# ℹ 84 more rows\n# ℹ 6 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;, difference &lt;dbl&gt;\n\n\nAverage and Median difference for all years together\n\nregion_20 |&gt; group_by(tea_description) |&gt; \n  summarize(avg_difference = mean(difference),\n            median_difference = median(difference),\n            number_of_districts_since_2015 = n()) |&gt; \n  arrange(avg_difference)\n\n# A tibble: 8 × 4\n  tea_description        avg_difference median_difference number_of_districts_…¹\n  &lt;chr&gt;                           &lt;dbl&gt;             &lt;dbl&gt;                  &lt;int&gt;\n1 Non-metropolitan Fast…         -7710.             -7882                     11\n2 Non-metropolitan Stab…         -1814.             -1275                    159\n3 Rural                          -1122.             -1128                    117\n4 Independent Town                -662.             -1407                     36\n5 Major Urban                      112.              -783                     27\n6 Major Suburban                   541.              -608                     99\n7 Other Central City Su…          1364               1122                     43\n8 Other Central City              2467               1503                      9\n# ℹ abbreviated name: ¹​number_of_districts_since_2015\n\n\naverage and median difference for 2024.\n\nregion_20 |&gt; filter(end_year == 2024) |&gt; \n  group_by(tea_description) |&gt; \n  summarize(avg_difference = mean(difference),\n            median_difference = median(difference),\n            number_of_districts_2024 = n()) |&gt; \n  arrange(avg_difference)\n\n# A tibble: 8 × 4\n  tea_description        avg_difference median_difference number_of_districts_…¹\n  &lt;chr&gt;                           &lt;dbl&gt;             &lt;dbl&gt;                  &lt;int&gt;\n1 Major Urban                      438.               91                       3\n2 Non-metropolitan Fast…           827               827                       2\n3 Major Suburban                  1961.             1519                      11\n4 Rural                           2524.             6810                      12\n5 Other Central City              2703              2703                       1\n6 Non-metropolitan Stab…          3209.             4812                      19\n7 Other Central City Su…          5989.             4990                       6\n8 Independent Town                6807.             7106.                      4\n# ℹ abbreviated name: ¹​number_of_districts_2024\n\n\n\navg_difference_over_time_20 &lt;- region_20 |&gt; group_by(tea_description, end_year) |&gt; \n  summarize(avg_difference = mean(difference, na.rm = T))\n\n`summarise()` has grouped output by 'tea_description'. You can override using\nthe `.groups` argument.\n\navg_difference_over_time_20\n\n# A tibble: 75 × 3\n# Groups:   tea_description [8]\n   tea_description  end_year avg_difference\n   &lt;chr&gt;            &lt;chr&gt;             &lt;dbl&gt;\n 1 Independent Town 2015              -564.\n 2 Independent Town 2016               154.\n 3 Independent Town 2017               654.\n 4 Independent Town 2018             -7202.\n 5 Independent Town 2019             -5500.\n 6 Independent Town 2020             -2133.\n 7 Independent Town 2021              -406.\n 8 Independent Town 2023              2236 \n 9 Independent Town 2024              6807.\n10 Major Suburban   2015              3141.\n# ℹ 65 more rows\n\n\n\nggplot(avg_difference_over_time_20, \n       aes(x = end_year, y = avg_difference, color = tea_description, group = tea_description)) + \n  geom_line() +\n  scale_y_continuous(limits = c(-10000,5000), n.breaks = 10)\n\nWarning: Removed 5 rows containing missing values (`geom_line()`).\n\n\n\n\n\n\n\n\n\n\nbill_category_df |&gt; filter(region == 20) |&gt; \n  group_by(bill_category) |&gt; \n  summarize(avg_difference = mean(difference, na.rm = T),\n            median_difference = median(difference, na.rm = T),\n            total_districts_since_2015 = n())\n\n# A tibble: 4 × 4\n  bill_category avg_difference median_difference total_districts_since_2015\n  &lt;fct&gt;                  &lt;dbl&gt;             &lt;dbl&gt;                      &lt;int&gt;\n1 under 300              1845.               -94                         39\n2 under 1600            -2315.             -1154                        169\n3 under 5000            -1388.             -1557                        152\n4 over 5000               989.               -79                        141\n\n\n\nbill_category_df |&gt; filter(region == 20 & end_year == 2024) |&gt; \n  group_by(bill_category) |&gt; \n  summarize(avg_difference = mean(difference, na.rm = T),\n            median_difference = median(difference, na.rm = T),\n            total_districts_2024 = n())\n\n# A tibble: 4 × 4\n  bill_category avg_difference median_difference total_districts_2024\n  &lt;fct&gt;                  &lt;dbl&gt;             &lt;dbl&gt;                &lt;int&gt;\n1 under 300              3164.             9579                     4\n2 under 1600             2017.             4906.                   20\n3 under 5000             4756.             5169                    17\n4 over 5000              2812.             1904                    17\n\n\n\navg_difference_bill_category_20 &lt;- bill_category_df |&gt; \n  filter(region == 20) |&gt; \n  group_by(bill_category,end_year) |&gt; \n  summarize(avg_difference = mean(difference, na.rm = T))\n\n`summarise()` has grouped output by 'bill_category'. You can override using the\n`.groups` argument.\n\navg_difference_bill_category_20\n\n# A tibble: 39 × 3\n# Groups:   bill_category [4]\n   bill_category end_year avg_difference\n   &lt;fct&gt;         &lt;chr&gt;             &lt;dbl&gt;\n 1 under 300     2015              2129.\n 2 under 300     2016              -923.\n 3 under 300     2017              -791 \n 4 under 300     2018             -3839 \n 5 under 300     2019              4772.\n 6 under 300     2020             10502.\n 7 under 300     2021              1309.\n 8 under 300     2023                63 \n 9 under 300     2024              3164.\n10 under 1600    2015             -2710.\n# ℹ 29 more rows\n\n\n\nggplot(avg_difference_bill_category_20, \n       aes(x = end_year, y = avg_difference, color = bill_category, group = bill_category)) + \n  geom_line() +\n  scale_y_continuous(limits = c(-10000,5000), n.breaks = 10)\n\n\n\n\n\n\n\n\n\nSame as above but for region 20\n\nregion_20 |&gt; group_by(nces_description) |&gt; \n  summarize(avg_difference = mean(difference),\n            median_difference = median(difference),\n            number_of_districts = n()) |&gt; \n  arrange(avg_difference)\n\n# A tibble: 9 × 4\n  nces_description avg_difference median_difference number_of_districts\n  &lt;chr&gt;                     &lt;dbl&gt;             &lt;dbl&gt;               &lt;int&gt;\n1 Rural-Distant           -2965.             -4183                   91\n2 Town-Distant            -2116.             -2794                   46\n3 Town-Remote             -1896.             -1549                   75\n4 Town-Fringe             -1046.             -2208.                  14\n5 City-Small               -562.              -562.                   2\n6 Rural-Remote             -375.              -249                   53\n7 Suburb-Large               71.2             1084                   34\n8 City-Large                488.              -424                   75\n9 Rural-Fringe             1037.               815                  111",
    "crumbs": [
      "Region 20 Analysis"
    ]
  },
  {
    "objectID": "Map2.html",
    "href": "Map2.html",
    "title": "Map2",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nabove_below_alice &lt;- read_rds(\"data-processed/above_below_alice.rds\")\n\n\nschool_districts &lt;- st_read(\"data-raw/Current_Districts_2025/Current_Districts_2025.shp\") \n\nReading layer `Current_Districts_2025' from data source \n  `/Users/karina/Documents/mig-data/tea-teachers/data-raw/Current_Districts_2025/Current_Districts_2025.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1017 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -106.6457 ymin: 25.83717 xmax: -93.50805 ymax: 36.50071\nGeodetic CRS:  WGS 84\n\nschool_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 14\n$ FID        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ GEOID20    &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ NAME20     &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranch Inde…\n$ SDLEA      &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\", \"3864…\n$ NAME       &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wheeler …\n$ NAME2      &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Grandview…\n$ DISTRICT_N &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917, 20908…\n$ DISTRICT   &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\", \"116…\n$ DISTRICT_C &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"116909\",…\n$ NCES_DISTR &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ COLOR      &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3, 5, 3,…\n$ Shape__Are &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, 222513…\n$ Shape__Len &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.368, 11…\n$ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOLYGON (…\n\n\n\nabove_below_alice |&gt; filter(district_number == \"123913\")\n\n# A tibble: 9 × 14\n# Groups:   county [1]\n  region county  district_name district_number total_enrollment average_base_pay\n  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n1 05     JEFFER… SABINE PASS … 123913                       379            46849\n2 05     JEFFER… SABINE PASS … 123913                       386            47179\n3 05     JEFFER… SABINE PASS … 123913                       380            46781\n4 05     JEFFER… SABINE PASS … 123913                       372            49494\n5 05     JEFFER… SABINE PASS … 123913                       371            49304\n6 05     JEFFER… SABINE PASS … 123913                       375            51812\n7 05     JEFFER… SABINE PASS … 123913                       388            51336\n8 05     JEFFER… SABINE PASS … 123913                       370            52243\n9 05     JEFFER… SABINE PASS … 123913                       358            56096\n# ℹ 8 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   difference &lt;dbl&gt;, bill_category &lt;fct&gt;, above_alice &lt;lgl&gt;\n\nsimple_alice &lt;- above_below_alice |&gt; mutate(\n   tea_description = factor(tea_description, levels = c(\"Rural\", \"Non-metropolitan Stable\", \"Non-metropolitan Fast Growing\", \"Independent Town\", \"Other Central City Suburban\", \"Other Central City\", \"Major Suburban\", \"Major Urban\"))\n ) |&gt; \n  ungroup() |&gt; \n  filter(end_year == 2024) |&gt; \n  select(district_number, tea_description, nces_description, bill_category, difference) \n\nsimple_alice\n\n# A tibble: 1,020 × 5\n   district_number tea_description     nces_description bill_category difference\n   &lt;chr&gt;           &lt;fct&gt;               &lt;chr&gt;            &lt;fct&gt;              &lt;dbl&gt;\n 1 001902          Rural               Rural-Remote     under 1600         -1483\n 2 001903          Non-metropolitan S… Rural-Distant    under 1600         -4162\n 3 001904          Rural               Rural-Distant    under 1600         -2851\n 4 001906          Rural               Rural-Distant    under 1600         -7088\n 5 001907          Independent Town    Town-Distant     under 5000         -4833\n 6 001909          Rural               Rural-Remote     under 1600          1286\n 7 001908          Non-metropolitan S… Town-Distant     under 1600         -9004\n 8 002901          Other Central City… Town-Distant     under 5000           872\n 9 003907          Non-metropolitan S… Rural-Fringe     under 1600          4929\n10 003905          Non-metropolitan S… Town-Remote      under 5000         10133\n# ℹ 1,010 more rows\n\n\nNow I will join that simplified dataframe with the shape file information.\n\njoined_districts &lt;- school_districts |&gt; left_join(simple_alice, by = c(\"DISTRICT_C\" = \"district_number\"))\n\njoined_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 18\n$ FID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…\n$ GEOID20          &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ NAME20           &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranc…\n$ SDLEA            &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\",…\n$ NAME             &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wh…\n$ NAME2            &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Gra…\n$ DISTRICT_N       &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917,…\n$ DISTRICT         &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\"…\n$ DISTRICT_C       &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"11…\n$ NCES_DISTR       &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ COLOR            &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3,…\n$ Shape__Are       &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, …\n$ Shape__Len       &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.3…\n$ tea_description  &lt;fct&gt; Rural, Rural, Rural, Rural, Rural, Rural, Rural, Majo…\n$ nces_description &lt;chr&gt; \"Rural-Distant\", \"Rural-Remote\", \"Rural-Distant\", \"Ru…\n$ bill_category    &lt;fct&gt; under 1600, under 300, under 300, under 1600, under 3…\n$ difference       &lt;dbl&gt; 716, -12386, 29496, 2382, 7617, -17888, -4346, 841, 4…\n$ geometry         &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOL…\n\n\nNow, the same for the bill categories.\n\nmapview(joined_districts, zcol = \"bill_category\")",
    "crumbs": [
      "Bill Categories Map"
    ]
  },
  {
    "objectID": "Map2.html#setup",
    "href": "Map2.html#setup",
    "title": "Map2",
    "section": "",
    "text": "library(tidyverse)\nlibrary(janitor)\nlibrary(scales)\nlibrary(sf)\nlibrary(mapview)\nlibrary(RColorBrewer)\n\n\nabove_below_alice &lt;- read_rds(\"data-processed/above_below_alice.rds\")\n\n\nschool_districts &lt;- st_read(\"data-raw/Current_Districts_2025/Current_Districts_2025.shp\") \n\nReading layer `Current_Districts_2025' from data source \n  `/Users/karina/Documents/mig-data/tea-teachers/data-raw/Current_Districts_2025/Current_Districts_2025.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1017 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -106.6457 ymin: 25.83717 xmax: -93.50805 ymax: 36.50071\nGeodetic CRS:  WGS 84\n\nschool_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 14\n$ FID        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ GEOID20    &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ NAME20     &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranch Inde…\n$ SDLEA      &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\", \"3864…\n$ NAME       &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wheeler …\n$ NAME2      &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Grandview…\n$ DISTRICT_N &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917, 20908…\n$ DISTRICT   &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\", \"116…\n$ DISTRICT_C &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"116909\",…\n$ NCES_DISTR &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\", \"484…\n$ COLOR      &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3, 5, 3,…\n$ Shape__Are &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, 222513…\n$ Shape__Len &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.368, 11…\n$ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOLYGON (…\n\n\n\nabove_below_alice |&gt; filter(district_number == \"123913\")\n\n# A tibble: 9 × 14\n# Groups:   county [1]\n  region county  district_name district_number total_enrollment average_base_pay\n  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;                      &lt;dbl&gt;            &lt;dbl&gt;\n1 05     JEFFER… SABINE PASS … 123913                       379            46849\n2 05     JEFFER… SABINE PASS … 123913                       386            47179\n3 05     JEFFER… SABINE PASS … 123913                       380            46781\n4 05     JEFFER… SABINE PASS … 123913                       372            49494\n5 05     JEFFER… SABINE PASS … 123913                       371            49304\n6 05     JEFFER… SABINE PASS … 123913                       375            51812\n7 05     JEFFER… SABINE PASS … 123913                       388            51336\n8 05     JEFFER… SABINE PASS … 123913                       370            52243\n9 05     JEFFER… SABINE PASS … 123913                       358            56096\n# ℹ 8 more variables: school_year &lt;chr&gt;, end_year &lt;chr&gt;, tea_description &lt;chr&gt;,\n#   nces_description &lt;chr&gt;, alice_threshold_hh_under_65 &lt;dbl&gt;,\n#   difference &lt;dbl&gt;, bill_category &lt;fct&gt;, above_alice &lt;lgl&gt;\n\nsimple_alice &lt;- above_below_alice |&gt; mutate(\n   tea_description = factor(tea_description, levels = c(\"Rural\", \"Non-metropolitan Stable\", \"Non-metropolitan Fast Growing\", \"Independent Town\", \"Other Central City Suburban\", \"Other Central City\", \"Major Suburban\", \"Major Urban\"))\n ) |&gt; \n  ungroup() |&gt; \n  filter(end_year == 2024) |&gt; \n  select(district_number, tea_description, nces_description, bill_category, difference) \n\nsimple_alice\n\n# A tibble: 1,020 × 5\n   district_number tea_description     nces_description bill_category difference\n   &lt;chr&gt;           &lt;fct&gt;               &lt;chr&gt;            &lt;fct&gt;              &lt;dbl&gt;\n 1 001902          Rural               Rural-Remote     under 1600         -1483\n 2 001903          Non-metropolitan S… Rural-Distant    under 1600         -4162\n 3 001904          Rural               Rural-Distant    under 1600         -2851\n 4 001906          Rural               Rural-Distant    under 1600         -7088\n 5 001907          Independent Town    Town-Distant     under 5000         -4833\n 6 001909          Rural               Rural-Remote     under 1600          1286\n 7 001908          Non-metropolitan S… Town-Distant     under 1600         -9004\n 8 002901          Other Central City… Town-Distant     under 5000           872\n 9 003907          Non-metropolitan S… Rural-Fringe     under 1600          4929\n10 003905          Non-metropolitan S… Town-Remote      under 5000         10133\n# ℹ 1,010 more rows\n\n\nNow I will join that simplified dataframe with the shape file information.\n\njoined_districts &lt;- school_districts |&gt; left_join(simple_alice, by = c(\"DISTRICT_C\" = \"district_number\"))\n\njoined_districts |&gt; glimpse()\n\nRows: 1,017\nColumns: 18\n$ FID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…\n$ GEOID20          &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ NAME20           &lt;chr&gt; \"Sabine Pass Independent School District\", \"Boys Ranc…\n$ SDLEA            &lt;chr&gt; \"38490\", \"11040\", \"21300\", \"45420\", \"21560\", \"46350\",…\n$ NAME             &lt;chr&gt; \"Sabine Pass ISD\", \"Boys Ranch ISD\", \"Grady ISD\", \"Wh…\n$ NAME2            &lt;chr&gt; \"Sabine Pass\", \"Boys Ranch\", \"Grady\", \"Wheeler\", \"Gra…\n$ DISTRICT_N       &lt;int&gt; 123913, 180901, 156905, 242903, 90905, 116909, 74917,…\n$ DISTRICT         &lt;chr&gt; \"123-913\", \"180-901\", \"156-905\", \"242-903\", \"090-905\"…\n$ DISTRICT_C       &lt;chr&gt; \"123913\", \"180901\", \"156905\", \"242903\", \"090905\", \"11…\n$ NCES_DISTR       &lt;chr&gt; \"4838490\", \"4811040\", \"4821300\", \"4845420\", \"4821560\"…\n$ COLOR            &lt;int&gt; 7, 7, 3, 4, 2, 5, 6, 2, 3, 5, 7, 7, 2, 5, 6, 7, 7, 3,…\n$ Shape__Are       &lt;dbl&gt; 986376233, 1272250, 794071716, 476259384, 335442887, …\n$ Shape__Len       &lt;dbl&gt; 194516.904, 4542.875, 174729.636, 155879.688, 82026.3…\n$ tea_description  &lt;fct&gt; Rural, Rural, Rural, Rural, Rural, Rural, Rural, Majo…\n$ nces_description &lt;chr&gt; \"Rural-Distant\", \"Rural-Remote\", \"Rural-Distant\", \"Ru…\n$ bill_category    &lt;fct&gt; under 1600, under 300, under 300, under 1600, under 3…\n$ difference       &lt;dbl&gt; 716, -12386, 29496, 2382, 7617, -17888, -4346, 841, 4…\n$ geometry         &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-94.3555 29..., MULTIPOL…\n\n\nNow, the same for the bill categories.\n\nmapview(joined_districts, zcol = \"bill_category\")",
    "crumbs": [
      "Bill Categories Map"
    ]
  }
]